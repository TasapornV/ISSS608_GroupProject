p_slopegraph <- cons_year %>%
mutate(year = factor(year)) %>%
filter(year %in% c(startyear,endyear)) %>%
newggslopegraph(year, mean_cons, DWELLING_TYPE)
p_slopegraph1 <- p_slopegraph + labs(title = "Monthly Household Electricity Consumption between 2 years",
subtitle = "",
caption = "Source:ema.gov.sg")
p_slopegraph1
#Preparing the data for report
d_report <- dwelling %>%
filter(year %in% c(startyear:endyear)) %>%
mutate(`Dwelling Type`= DWELLING_TYPE) %>%
group_by(`Dwelling Type`) %>%
summarise("Min" = min(consumption_GWh, na.rm = T),
"Max" = max(consumption_GWh, na.rm = T),
"Average" = mean(consumption_GWh, na.rm = T))
d_sparks <- dwelling %>%
filter(year %in% c(startyear:endyear)) %>%
mutate(`Dwelling Type`= DWELLING_TYPE) %>%
group_by(`Dwelling Type`) %>%
summarize(`Monthly Consumption` = list(consumption_GWh))
dwelling_data = left_join(d_report, d_sparks)
dwelling_data %\>% gt() %\>% gt_plt_sparkline('Monthly Consumption')
#Preparing the data for report
d_report <- dwelling %>%
filter(year %in% c(startyear:endyear)) %>%
mutate(`Dwelling Type`= DWELLING_TYPE) %>%
group_by(`Dwelling Type`) %>%
summarise("Min" = min(consumption_GWh, na.rm = T),
"Max" = max(consumption_GWh, na.rm = T),
"Average" = mean(consumption_GWh, na.rm = T))
d_sparks <- dwelling %>%
filter(year %in% c(startyear:endyear)) %>%
mutate(`Dwelling Type`= DWELLING_TYPE) %>%
group_by(`Dwelling Type`) %>%
summarize(`Monthly Consumption` = list(consumption_GWh))
dwelling_data = left_join(d_report, d_sparks)
dwelling_data %>%
gt() %>%
gt_plt_sparkline('Monthly Consumption')
library(svglite)
#Preparing the data for report
d_report <- dwelling %>%
filter(year %in% c(startyear:endyear)) %>%
mutate(`Dwelling Type`= DWELLING_TYPE) %>%
group_by(`Dwelling Type`) %>%
summarise("Min" = min(consumption_GWh, na.rm = T),
"Max" = max(consumption_GWh, na.rm = T),
"Average" = mean(consumption_GWh, na.rm = T))
d_sparks <- dwelling %>%
filter(year %in% c(startyear:endyear)) %>%
mutate(`Dwelling Type`= DWELLING_TYPE) %>%
group_by(`Dwelling Type`) %>%
summarize(`Monthly Consumption` = list(consumption_GWh))
dwelling_data = left_join(d_report, d_sparks)
dwelling_data %>%
gt() %>%
gt_plt_sparkline('Monthly Consumption')
install.packages("svglite")
library(svglite)
#Preparing the data for report
d_report <- dwelling %>%
filter(year %in% c(startyear:endyear)) %>%
mutate(`Dwelling Type`= DWELLING_TYPE) %>%
group_by(`Dwelling Type`) %>%
summarise("Min" = min(consumption_GWh, na.rm = T),
"Max" = max(consumption_GWh, na.rm = T),
"Average" = mean(consumption_GWh, na.rm = T))
d_sparks <- dwelling %>%
filter(year %in% c(startyear:endyear)) %>%
mutate(`Dwelling Type`= DWELLING_TYPE) %>%
group_by(`Dwelling Type`) %>%
summarize(`Monthly Consumption` = list(consumption_GWh))
dwelling_data = left_join(d_report, d_sparks)
dwelling_data %>%
gt() %>%
gt_plt_sparkline('Monthly Consumption')
#load lib
pacman::p_load(scales, viridis, hrbrthemes, lubridate, gridExtra, knitr, data.table, ggthemes, CGPfunctions, ggHoriPlot, gapminder, gganimate, ggbraid, ggstatsplot, ggiraph, plotly, performance, nortest, patchwork, ggdist, ggridges, tidyverse)
#Preparing the data for report
d_report <- dwelling %>%
filter(year %in% c(startyear:endyear)) %>%
mutate(`Dwelling Type`= DWELLING_TYPE) %>%
group_by(`Dwelling Type`) %>%
summarise("Min" = min(consumption_GWh, na.rm = T),
"Max" = max(consumption_GWh, na.rm = T),
"Average" = mean(consumption_GWh, na.rm = T))
d_sparks <- dwelling %>%
filter(year %in% c(startyear:endyear)) %>%
mutate(`Dwelling Type`= DWELLING_TYPE) %>%
group_by(`Dwelling Type`) %>%
summarize(`Monthly Consumption` = list(consumption_GWh))
dwelling_data = left_join(d_report, d_sparks)
dwelling_data %>%
gt() %>%
gt_plt_sparkline('Monthly Consumption')
pacman::p_load(reactable, reactablefmtr, gt, gtExtras)
#Preparing the data for report
d_report <- dwelling %>%
filter(year %in% c(startyear:endyear)) %>%
mutate(`Dwelling Type`= DWELLING_TYPE) %>%
group_by(`Dwelling Type`) %>%
summarise("Min" = min(consumption_GWh, na.rm = T),
"Max" = max(consumption_GWh, na.rm = T),
"Average" = mean(consumption_GWh, na.rm = T))
d_sparks <- dwelling %>%
filter(year %in% c(startyear:endyear)) %>%
mutate(`Dwelling Type`= DWELLING_TYPE) %>%
group_by(`Dwelling Type`) %>%
summarize(`Monthly Consumption` = list(consumption_GWh))
dwelling_data = left_join(d_report, d_sparks)
dwelling_data %>%
gt() %>%
gt_plt_sparkline('Monthly Consumption')
#load lib
pacman::p_load(scales, viridis, hrbrthemes, lubridate, gridExtra, knitr, data.table, ggthemes, CGPfunctions, ggHoriPlot, gapminder, gganimate, ggbraid, ggstatsplot, ggiraph, plotly, performance, nortest, patchwork, ggdist, ggridges, tidyverse)
dwelling <- T3.4 %>%
filter(year %in% c(2005:2022)) %>%
filter(month %in% c(1:12)) %>%
filter(DWELLING_TYPE %in% c('1-room / 2-room','3-room','4-room',
'5-room and Executive',
'Private Apartments and Condominiums',
'Landed Properties', 'Others')) %>%
mutate(date = parse_date_time(paste0(year, "-", month,"-1"),"ymd")) %>%
mutate(monthyear = format(as.Date(date), "%b %Y"))
#Add Private vs Public Classification
dwelling$class <- case_when(
dwelling$DWELLING_TYPE %in% c('Private Apartments and Condominiums',
'Landed Properties', 'Others') ~ "Private",
dwelling$DWELLING_TYPE %in% c('1-room / 2-room','3-room','4-room',
'5-room and Executive') ~ "Public")
town <- subset(T3.5, Description != 'Overall' & Description !='Central Region' &
Description !='East Region' & Description !='North East Region' &
Description !='North Region' & Description !='West Region' &
kwh_per_acc != 's' & dwelling_type != 'Private Housing' &
dwelling_type != 'Public Housing' & month != 'Annual') %>%
mutate(kwh_per_acc = as.numeric(kwh_per_acc)) %>%
mutate(date = parse_date_time(paste0(year, "-", month,"-1"),"ymd"))
#Adding housing type
town$type <- case_when(
town$dwelling_type %in% c('Private Apartments and Condominiums',
'Landed Properties', 'Others') ~ "Private",
town$dwelling_type %in% c('1-room / 2-room','3-room','4-room',
'5-room and Executive') ~ "Public")
View(town)
#load lib
pacman::p_load(scales, viridis, hrbrthemes, lubridate, gridExtra, knitr, data.table, ggthemes, CGPfunctions, ggHoriPlot, gapminder, gganimate, ggbraid, ggstatsplot, ggiraph, plotly, performance, nortest, patchwork, ggdist, ggridges, reactable, reactablefmtr, gt, gtExtras, tidyverse)
dwelling <- T3.4 %>%
filter(year %in% c(2005:2022)) %>%
filter(month %in% c(1:12)) %>%
filter(DWELLING_TYPE %in% c('1-room / 2-room','3-room','4-room',
'5-room and Executive',
'Private Apartments and Condominiums',
'Landed Properties', 'Others')) %>%
mutate(date = parse_date_time(paste0(year, "-", month,"-1"),"ymd")) %>%
mutate(monthyear = format(as.Date(date), "%b %Y"))
#Add Private vs Public Classification
dwelling$class <- case_when(
dwelling$DWELLING_TYPE %in% c('Private Apartments and Condominiums',
'Landed Properties', 'Others') ~ "Private",
dwelling$DWELLING_TYPE %in% c('1-room / 2-room','3-room','4-room',
'5-room and Executive') ~ "Public")
dwelling <- dwelling %>%
mutate(type = DWELLING_TYPE) %>%
mutate(consumption = consumption_GWh)
#data formatting
d_sparks <- dwelling %>%
filter(year %in% c(startyear:endyear)) %>%
mutate(`Dwelling Type` = DWELLING_TYPE) %>%
group_by(`Dwelling Type`) %>%
summarize(`Monthly Consumption` = list(consumption_GWh))
#react_sparkline
reactable(
d_sparks,
defaultPageSize = 13,
columns = list(
`Dwelling Type` = colDef(maxWidth = 200),
`Monthly Consumption` = colDef(
cell = react_sparkline(
d_sparks,
highlight_points = highlight_points(
min = "red", max = "blue"),
line_width = 1,
bandline = "innerquartiles",
bandline_color = "green"
)
)
)
)
dwelling <- T3.4 %>%
filter(year %in% c(2005:2022)) %>%
filter(month %in% c(1:12)) %>%
filter(DWELLING_TYPE %in% c('1-room / 2-room','3-room','4-room',
'5-room and Executive',
'Private Apartments and Condominiums',
'Landed Properties', 'Others')) %>%
mutate(date = parse_date_time(paste0(year, "-", month,"-1"),"ymd"))
#Add Private vs Public Classification
dwelling$class <- case_when(
dwelling$DWELLING_TYPE %in% c('Private Apartments and Condominiums',
'Landed Properties', 'Others') ~ "Private",
dwelling$DWELLING_TYPE %in% c('1-room / 2-room','3-room','4-room',
'5-room and Executive') ~ "Public")
dwelling <- dwelling %>%
mutate(type = DWELLING_TYPE) %>%
mutate(consumption = consumption_GWh) %>%
select(c('year','month','date','type','consumption','class'))
dwelling <- T3.4 %>%
filter(year %in% c(2005:2022)) %>%
filter(month %in% c(1:12)) %>%
filter(DWELLING_TYPE %in% c('1-room / 2-room','3-room','4-room',
'5-room and Executive',
'Private Apartments and Condominiums',
'Landed Properties', 'Others')) %>%
mutate(date = parse_date_time(paste0(year, "-", month,"-1"),"ymd"))
#load lib
pacman::p_load(scales, viridis, hrbrthemes, lubridate, gridExtra, knitr, data.table, ggthemes, CGPfunctions, ggHoriPlot, gapminder, gganimate, ggbraid, ggstatsplot, ggiraph, plotly, performance, nortest, patchwork, ggdist, ggridges, reactable, reactablefmtr, gt, gtExtras, tidyverse)
dwelling <- T3.4 %>%
filter(year %in% c(2005:2022)) %>%
filter(month %in% c(1:12)) %>%
filter(DWELLING_TYPE %in% c('1-room / 2-room','3-room','4-room',
'5-room and Executive',
'Private Apartments and Condominiums',
'Landed Properties', 'Others')) %>%
mutate(date = parse_date_time(paste0(year, "-", month,"-1"),"ymd"))
#Add Private vs Public Classification
dwelling$class <- case_when(
dwelling$DWELLING_TYPE %in% c('Private Apartments and Condominiums',
'Landed Properties', 'Others') ~ "Private",
dwelling$DWELLING_TYPE %in% c('1-room / 2-room','3-room','4-room',
'5-room and Executive') ~ "Public")
dwelling <- dwelling %>%
mutate(type = DWELLING_TYPE) %>%
mutate(consumption = consumption_GWh) %>%
mutate(title = 'dwelling')
select(c('year','month','date','type','consumption','class'))
dwelling <- dwelling %>%
mutate(type = DWELLING_TYPE) %>%
mutate(consumption = consumption_GWh) %>%
mutate(title = 'dwelling') %>%
select(c('year','month','date','type','consumption','class'))
town <- town %>%
mutate(type = Description) %>%
mutate(consumption = kwh_per_acc) %>%
select(c('year','month','date','type','consumption','class'))
dwelling <- T3.4 %>%
filter(year %in% c(2005:2022)) %>%
filter(month %in% c(1:12)) %>%
filter(DWELLING_TYPE %in% c('1-room / 2-room','3-room','4-room',
'5-room and Executive',
'Private Apartments and Condominiums',
'Landed Properties', 'Others')) %>%
mutate(date = parse_date_time(paste0(year, "-", month,"-1"),"ymd"))
#Add Private vs Public Classification
dwelling$class <- case_when(
dwelling$DWELLING_TYPE %in% c('Private Apartments and Condominiums',
'Landed Properties', 'Others') ~ "Private",
dwelling$DWELLING_TYPE %in% c('1-room / 2-room','3-room','4-room',
'5-room and Executive') ~ "Public")
dwelling <- dwelling %>%
mutate(type = DWELLING_TYPE) %>%
mutate(consumption = consumption_GWh) %>%
mutate(title = 'dwelling') %>%
select(c('year','month','date','type','consumption','class', 'title'))
town <- town %>%
mutate(type = Description) %>%
mutate(consumption = kwh_per_acc) %>%
select(c('year','month','date','type','consumption','class'))
town <- subset(T3.5, Description != 'Overall' & Description !='Central Region' &
Description !='East Region' & Description !='North East Region' &
Description !='North Region' & Description !='West Region' &
kwh_per_acc != 's' & dwelling_type != 'Private Housing' &
dwelling_type != 'Public Housing' & month != 'Annual') %>%
mutate(kwh_per_acc = as.numeric(kwh_per_acc)) %>%
mutate(date = parse_date_time(paste0(year, "-", month,"-1"),"ymd")) %>%
mutate(monthyear = format(as.Date(date), "%b %Y"))
#Adding housing type
town$type <- case_when(
town$dwelling_type %in% c('Private Apartments and Condominiums',
'Landed Properties', 'Others') ~ "Private",
town$dwelling_type %in% c('1-room / 2-room','3-room','4-room',
'5-room and Executive') ~ "Public")
dwelling <- dwelling %>%
mutate(type = DWELLING_TYPE) %>%
mutate(consumption = consumption_GWh) %>%
mutate(title = 'Dwelling Type') %>%
select(c('year','month','date','type','consumption','class', 'title'))
dwelling <- T3.4 %>%
filter(year %in% c(2005:2022)) %>%
filter(month %in% c(1:12)) %>%
filter(DWELLING_TYPE %in% c('1-room / 2-room','3-room','4-room',
'5-room and Executive',
'Private Apartments and Condominiums',
'Landed Properties', 'Others')) %>%
mutate(date = parse_date_time(paste0(year, "-", month,"-1"),"ymd"))
#Add Private vs Public Classification
dwelling$class <- case_when(
dwelling$DWELLING_TYPE %in% c('Private Apartments and Condominiums',
'Landed Properties', 'Others') ~ "Private",
dwelling$DWELLING_TYPE %in% c('1-room / 2-room','3-room','4-room',
'5-room and Executive') ~ "Public")
town <- subset(T3.5, Description != 'Overall' & Description !='Central Region' &
Description !='East Region' & Description !='North East Region' &
Description !='North Region' & Description !='West Region' &
kwh_per_acc != 's' & dwelling_type != 'Private Housing' &
dwelling_type != 'Public Housing' & month != 'Annual') %>%
mutate(kwh_per_acc = as.numeric(kwh_per_acc)) %>%
mutate(date = parse_date_time(paste0(year, "-", month,"-1"),"ymd")) %>%
mutate(monthyear = format(as.Date(date), "%b %Y"))
#Adding housing type
town$type <- case_when(
town$dwelling_type %in% c('Private Apartments and Condominiums',
'Landed Properties', 'Others') ~ "Private",
town$dwelling_type %in% c('1-room / 2-room','3-room','4-room',
'5-room and Executive') ~ "Public")
dwelling <- dwelling %>%
mutate(type = DWELLING_TYPE) %>%
mutate(consumption = consumption_GWh) %>%
mutate(title = 'Dwelling Type') %>%
select(c('year','month','date','type','consumption','class', 'title'))
town <- town %>%
mutate(type = Description) %>%
mutate(consumption = kwh_per_acc/1000) %>%
mutate(title = 'Town') %>%
select(c('year','month','date','type','consumption','class','title'))
dwelling <- T3.4 %>%
filter(year %in% c(2005:2022)) %>%
filter(month %in% c(1:12)) %>%
filter(DWELLING_TYPE %in% c('1-room / 2-room','3-room','4-room',
'5-room and Executive',
'Private Apartments and Condominiums',
'Landed Properties', 'Others')) %>%
mutate(date = parse_date_time(paste0(year, "-", month,"-1"),"ymd"))
#Add Private vs Public Classification
dwelling$class <- case_when(
dwelling$DWELLING_TYPE %in% c('Private Apartments and Condominiums',
'Landed Properties', 'Others') ~ "Private",
dwelling$DWELLING_TYPE %in% c('1-room / 2-room','3-room','4-room',
'5-room and Executive') ~ "Public")
town <- subset(T3.5, Description != 'Overall' & Description !='Central Region' &
Description !='East Region' & Description !='North East Region' &
Description !='North Region' & Description !='West Region' &
kwh_per_acc != 's' & dwelling_type != 'Private Housing' &
dwelling_type != 'Public Housing' & month != 'Annual') %>%
mutate(kwh_per_acc = as.numeric(kwh_per_acc)) %>%
mutate(date = parse_date_time(paste0(year, "-", month,"-1"),"ymd")) %>%
mutate(monthyear = format(as.Date(date), "%b %Y"))
#Adding housing type
town$type <- case_when(
town$dwelling_type %in% c('Private Apartments and Condominiums',
'Landed Properties', 'Others') ~ "Private",
town$dwelling_type %in% c('1-room / 2-room','3-room','4-room',
'5-room and Executive') ~ "Public")
dwelling <- dwelling %>%
mutate(type = DWELLING_TYPE) %>%
mutate(consumption = consumption_GWh) %>%
mutate(title = 'Dwelling Type') %>%
select(c('year','month','date','type','consumption','class', 'title'))
town <- town %>%
mutate(type = Description) %>%
mutate(consumption = kwh_per_acc/1000) %>%
mutate(title = 'Town') %>%
select(c('year','month','date','type','consumption','title'))
region <- town %>%
group_by(Region, monthyear) %>%
mutate(consumption = sum(kwh_per_acc/1000)) %>%
mutate(type = Region) %>%
mutate(title = 'Region') %>%
select(c('year','month','date','type','consumption','title'))
dwelling <- T3.4 %>%
filter(year %in% c(2005:2022)) %>%
filter(month %in% c(1:12)) %>%
filter(DWELLING_TYPE %in% c('1-room / 2-room','3-room','4-room',
'5-room and Executive',
'Private Apartments and Condominiums',
'Landed Properties', 'Others')) %>%
mutate(date = parse_date_time(paste0(year, "-", month,"-1"),"ymd"))
#Add Private vs Public Classification
dwelling$class <- case_when(
dwelling$DWELLING_TYPE %in% c('Private Apartments and Condominiums',
'Landed Properties', 'Others') ~ "Private",
dwelling$DWELLING_TYPE %in% c('1-room / 2-room','3-room','4-room',
'5-room and Executive') ~ "Public")
town <- subset(T3.5, Description != 'Overall' & Description !='Central Region' &
Description !='East Region' & Description !='North East Region' &
Description !='North Region' & Description !='West Region' &
kwh_per_acc != 's' & dwelling_type != 'Private Housing' &
dwelling_type != 'Public Housing' & month != 'Annual') %>%
mutate(kwh_per_acc = as.numeric(kwh_per_acc)) %>%
mutate(date = parse_date_time(paste0(year, "-", month,"-1"),"ymd")) %>%
mutate(monthyear = format(as.Date(date), "%b %Y"))
#Adding housing type
town$type <- case_when(
town$dwelling_type %in% c('Private Apartments and Condominiums',
'Landed Properties', 'Others') ~ "Private",
town$dwelling_type %in% c('1-room / 2-room','3-room','4-room',
'5-room and Executive') ~ "Public")
dwelling_tog <- dwelling %>%
mutate(type = DWELLING_TYPE) %>%
mutate(consumption = consumption_GWh) %>%
mutate(title = 'Dwelling Type') %>%
select(c('year','month','date','type','consumption','class', 'title'))
town_tog <- town %>%
mutate(type = Description) %>%
mutate(consumption = kwh_per_acc/1000) %>%
mutate(title = 'Town') %>%
select(c('year','month','date','type','consumption','title'))
region_tog <- town %>%
group_by(Region, monthyear) %>%
mutate(consumption = sum(kwh_per_acc/1000)) %>%
mutate(type = Region) %>%
mutate(title = 'Region') %>%
select(c('year','month','date','type','consumption','title'))
View(town_tog)
View(region_tog)
town <- subset(T3.5, Description != 'Overall' & Description !='Central Region' &
Description !='East Region' & Description !='North East Region' &
Description !='North Region' & Description !='West Region' &
kwh_per_acc != 's' & dwelling_type != 'Private Housing' &
dwelling_type != 'Public Housing' & month != 'Annual') %>%
mutate(kwh_per_acc = as.numeric(kwh_per_acc)) %>%
mutate(date = parse_date_time(paste0(year, "-", month,"-1"),"ymd")) %>%
mutate(monthyear = format(as.Date(date), "%b %Y"))
#Adding housing type
town$type <- case_when(
town$dwelling_type %in% c('Private Apartments and Condominiums',
'Landed Properties', 'Others') ~ "Private",
town$dwelling_type %in% c('1-room / 2-room','3-room','4-room',
'5-room and Executive') ~ "Public")
dwelling_tog <- dwelling %>%
mutate(type = DWELLING_TYPE) %>%
mutate(consumption = consumption_GWh) %>%
mutate(title = 'Dwelling Type') %>%
select(c('year','month','date','type','consumption','class', 'title'))
town_tog <- town %>%
mutate(type = Description) %>%
mutate(consumption = kwh_per_acc/1000) %>%
mutate(title = 'Town') %>%
select(c('year','month','date','type','consumption','title'))
region_tog <- town %>%
group_by(Region, monthyear) %>%
mutate(consumption = sum(kwh_per_acc/1000)) %>%
mutate(type = Region) %>%
mutate(title = 'Region') %>%
select(c('year','month','date','type','consumption','title'))
dwelling_tog <- dwelling %>%
mutate(type = DWELLING_TYPE) %>%
mutate(consumption = consumption_GWh) %>%
mutate(title = 'Dwelling Type') %>%
select(c('year','month','date','type','consumption','class', 'title'))
town_tog <- town %>%
mutate(type = Description) %>%
mutate(consumption = kwh_per_acc) %>%
mutate(title = 'Town') %>%
select(c('year','month','date','type','consumption','title'))
region_tog <- town %>%
group_by(Region, monthyear) %>%
summarize(consumption = sum(kwh_per_acc)) %>%
mutate(type = Region) %>%
mutate(title = 'Region') %>%
select(c('year','month','date','type','consumption','title'))
dwelling_tog <- dwelling %>%
mutate(type = DWELLING_TYPE) %>%
mutate(consumption = consumption_GWh) %>%
mutate(title = 'Dwelling Type') %>%
select(c('year','month','date','type','consumption','class', 'title'))
town_tog <- town %>%
mutate(type = Description) %>%
mutate(consumption = kwh_per_acc) %>%
mutate(title = 'Town') %>%
select(c('year','month','date','type','consumption','title'))
region_tog <- town %>%
group_by(Region, monthyear) %>%
summarize(consumption = sum(kwh_per_acc)) %>%
#  mutate(type = Region) %>%
#  mutate(title = 'Region') %>%
#  select(c('year','month','date','type','consumption','title'))
dwelling_tog <- dwelling %>%
mutate(type = DWELLING_TYPE) %>%
mutate(consumption = consumption_GWh) %>%
mutate(title = 'Dwelling Type') %>%
select(c('year','month','date','type','consumption','class', 'title'))
town_tog <- town %>%
mutate(type = Description) %>%
mutate(consumption = kwh_per_acc) %>%
mutate(title = 'Town') %>%
select(c('year','month','date','type','consumption','title'))
region_tog <- town %>%
group_by(Region, monthyear) %>%
summarize(consumption = sum(kwh_per_acc))
#  mutate(type = Region) %>%
#  mutate(title = 'Region') %>%
#  select(c('year','month','date','type','consumption','title'))
region <- town %>%
group_by(Region, monthyear) %>%
mutate(consumption = sum(kwh_per_acc))
View(region)
region <- subset(town, select(-c('Description')) %>%
group_by(Region, monthyear) %>%
mutate(consumption = sum(kwh_per_acc))
region <- subset(town, select(-c('Description'))) %>%
group_by(Region, monthyear) %>%
mutate(consumption = sum(kwh_per_acc))
region <- subset(town, select(-c(Description))) %>%
group_by(Region, monthyear) %>%
mutate(consumption = sum(kwh_per_acc))
region <- subset(town, select = -c(Description)) %>%
group_by(Region, monthyear) %>%
mutate(consumption = sum(kwh_per_acc))
region <- subset(town, select = -c(Description)) %>%
group_by(Region, monthyear) %>%
mutate(consumption = sum(kwh_per_acc))
