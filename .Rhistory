xlab = "Dwelling Type", ylab = "Monthly Household Electricity Consumption (GWh)",
type = "np", pairwise.comparisons = T, pairwise.display = "ns",
mean.ci = T, p.adjust.method = "fdr",  conf.level = 0.95,
title = "Public",
package = "ggthemes", palette = "Tableau_10") +
theme(axis.title.x = element_blank())
#  + scale_y_continuous(limits = c(0, 1500000))
#combining plots
combine_plots(
list(private, public),
plotgrid.args = list(nrow = 5),
annotation.args = list(
title = "Comparison of Monthly Household Electricity Consumption by Dwelling Type",
subtitle = paste0("Year",year),
theme = theme(
plot.subtitle = element_text(size = 8),
plot.title = element_text(size = 12))))
#Comparison of Median Consumption by Dwelling Type per year
#Give user choice to choose the year
givenyear <- 2021
#plotting violin plot by dwelling type for private and public housing
private <- ggbetweenstats(data = dwelling |> filter(class == "Private", year == givenyear), x = DWELLING_TYPE, y = consumption_GWh,
xlab = "Dwelling Type", ylab = "Monthly Household Electricity Consumption (GWh)",
type = "np", pairwise.comparisons = T, pairwise.display = "ns",
mean.ci = T, p.adjust.method = "fdr",  conf.level = 0.95,
title = "Private",
package = "ggthemes", palette = "Tableau_10") +
theme(axis.title.x = element_blank())
#  + scale_y_continuous(limits = c(0, 1500000))
public <- ggbetweenstats(data = dwelling |> filter(class == "Public", year == givenyear), x = DWELLING_TYPE, y = consumption_GWh,
xlab = "Dwelling Type", ylab = "Monthly Household Electricity Consumption (GWh)",
type = "np", pairwise.comparisons = T, pairwise.display = "ns",
mean.ci = T, p.adjust.method = "fdr",  conf.level = 0.95,
title = "Public",
package = "ggthemes", palette = "Tableau_10") +
theme(axis.title.x = element_blank())
#  + scale_y_continuous(limits = c(0, 1500000))
#combining plots
combine_plots(
list(private, public),
plotgrid.args = list(nrow = 5),
annotation.args = list(
title = "Comparison of Monthly Household Electricity Consumption by Dwelling Type",
subtitle = paste0("Year",givenyear),
theme = theme(
plot.subtitle = element_text(size = 8),
plot.title = element_text(size = 12))))
#Comparison of Median Consumption by Dwelling Type per year
#Give user choice to choose the year
givenyear <- 2021
#plotting violin plot by dwelling type for private and public housing
private <- ggbetweenstats(data = dwelling |> filter(class == "Private", year == givenyear), x = DWELLING_TYPE, y = consumption_GWh,
xlab = "Dwelling Type", ylab = "GWh",
type = "np", pairwise.comparisons = T, pairwise.display = "ns",
mean.ci = T, p.adjust.method = "fdr",  conf.level = 0.95,
title = "Private",
package = "ggthemes", palette = "Tableau_10") +
theme(axis.title.x = element_blank())
#  + scale_y_continuous(limits = c(0, 1500000))
public <- ggbetweenstats(data = dwelling |> filter(class == "Public", year == givenyear), x = DWELLING_TYPE, y = consumption_GWh,
xlab = "Dwelling Type", ylab = "GWh",
type = "np", pairwise.comparisons = T, pairwise.display = "ns",
mean.ci = T, p.adjust.method = "fdr",  conf.level = 0.95,
title = "Public",
package = "ggthemes", palette = "Tableau_10") +
theme(axis.title.x = element_blank())
#  + scale_y_continuous(limits = c(0, 1500000))
#combining plots
combine_plots(
list(private, public),
plotgrid.args = list(nrow = 5),
annotation.args = list(
title = "Comparison of Monthly Household Electricity Consumption by Dwelling Type",
subtitle = paste0("Year",givenyear),
theme = theme(
plot.subtitle = element_text(size = 8),
plot.title = element_text(size = 12))))
#Comparison of Median Consumption by Dwelling Type per year
#Give user choice to choose the year
givenyear <- 2021
#plotting violin plot by dwelling type for private and public housing
private <- ggbetweenstats(data = dwelling |> filter(class == "Private", year == givenyear), x = DWELLING_TYPE, y = consumption_GWh,
xlab = "Dwelling Type", ylab = "GWh",
type = "np", pairwise.comparisons = T, pairwise.display = "ns",
mean.ci = T, p.adjust.method = "fdr",  conf.level = 0.95,
title = "Private",
package = "ggthemes", palette = "Tableau_10") +
theme(axis.title.x = element_blank())
#  + scale_y_continuous(limits = c(0, 1500000))
public <- ggbetweenstats(data = dwelling |> filter(class == "Public", year == givenyear), x = DWELLING_TYPE, y = consumption_GWh,
xlab = "Dwelling Type", ylab = "GWh",
type = "np", pairwise.comparisons = T, pairwise.display = "ns",
mean.ci = T, p.adjust.method = "fdr",  conf.level = 0.95,
title = "Public",
package = "ggthemes", palette = "Tableau_10") +
theme(axis.title.x = element_blank())
#  + scale_y_continuous(limits = c(0, 1500000))
#combining plots
combine_plots(
list(private, public),
plotgrid.args = list(nrow = 5),
annotation.args = list(
title = "Comparison of Monthly Household Electricity Consumption by Dwelling Type",
subtitle = paste0("Year",givenyear),
theme = theme(
plot.subtitle = element_text(size = 10),
plot.title = element_text(size = 12))))
#Display rate of change using Slopegraph
#User can choose any 2 years for comparison
cons_yr <- dwelling
cons_yr$year <- year(ymd(tb_yr$Date))
#Display rate of change using Slopegraph
#User can choose any 2 years for comparison
cons_yr <- dwelling
cons_year <- cons_yr %>%
group_by(DWELLING_TYPE, year) %>%
summarise(mean_cons=round(mean(consumption_GWh),2))
p_slopegraph <- cons_year %>%
mutate(year = factor(year)) %>%
newggslopegraph(year, mean_cons, DWELLING_TYPE)
#load lib
library(CGPfunctions)
#Display rate of change using Slopegraph
#User can choose any 2 years for comparison
cons_yr <- dwelling
cons_year <- cons_yr %>%
group_by(DWELLING_TYPE, year) %>%
summarise(mean_cons=round(mean(consumption_GWh),2))
p_slopegraph <- cons_year %>%
mutate(year = factor(year)) %>%
newggslopegraph(year, mean_cons, DWELLING_TYPE)
p_slopegraph1 <- p_slopegraph + labs(title = "Singapore Trade Balance with Major Trade Partners (2020-2022)",
subtitle = "Highest trade surplus with Hong Kong, highest trade deficit with Taiwan",
caption = "Source:Singstat.gov.sg")
p_slopegraph1
#Display rate of change using Slopegraph
#User can choose any 2 years for comparison
startyear <- 2020
endyear <- 2021
cons_yr <- dwelling
cons_year <- cons_yr %>%
group_by(DWELLING_TYPE, year) %>%
summarise(mean_cons=round(mean(consumption_GWh),2))
p_slopegraph <- cons_year %>%
mutate(year = factor(year)) %>%
filter(year %in% c(startyear,endyear)) %>%
newggslopegraph(year, mean_cons, DWELLING_TYPE)
p_slopegraph1 <- p_slopegraph + labs(title = "Monthly Household Electricity Consumption between 2 years",
subtitle = "",
caption = "Source:Singstat.gov.sg")
p_slopegraph1
#Display rate of change using Slopegraph
#User can choose any 2 years for comparison
startyear <- 2005
endyear <- 2021
cons_yr <- dwelling
cons_year <- cons_yr %>%
group_by(DWELLING_TYPE, year) %>%
summarise(mean_cons=round(mean(consumption_GWh),2))
p_slopegraph <- cons_year %>%
mutate(year = factor(year)) %>%
filter(year %in% c(startyear,endyear)) %>%
newggslopegraph(year, mean_cons, DWELLING_TYPE)
p_slopegraph1 <- p_slopegraph + labs(title = "Monthly Household Electricity Consumption between 2 years",
subtitle = "",
caption = "Source:Singstat.gov.sg")
p_slopegraph1
#Confidence Intervals of Median Household consumption
private_uncert <- ggplot(data = dwelling |> filter(class == "Private",
year == givenyear),
aes(x = DWELLING_TYPE, y = consumption_GWh)) +
stat_pointinterval(point_interval = "median_qi",
.width = c(0.95,0.99),
point_color = "red3") +
labs(title = "Private", x = "Dwelling Type", ylab = "GWh") +
theme(axis.text.x = element_text(angle = 45, vjust = 1, hjust=1))
{r}
#load lib
library(CGPfunctions)
library(nortest)
#Confidence Intervals of Median Household consumption
private_uncert <- ggplot(data = dwelling |> filter(class == "Private",
year == givenyear),
aes(x = DWELLING_TYPE, y = consumption_GWh)) +
stat_pointinterval(point_interval = "median_qi",
.width = c(0.95,0.99),
point_color = "red3") +
labs(title = "Private", x = "Dwelling Type", ylab = "GWh") +
theme(axis.text.x = element_text(angle = 45, vjust = 1, hjust=1))
#load lib
library(CGPfunctions)
library(ggstatsplot)
#Confidence Intervals of Median Household consumption
private_uncert <- ggplot(data = dwelling |> filter(class == "Private",
year == givenyear),
aes(x = DWELLING_TYPE, y = consumption_GWh)) +
stat_pointinterval(point_interval = "median_qi",
.width = c(0.95,0.99),
point_color = "red3") +
labs(title = "Private", x = "Dwelling Type", ylab = "GWh") +
theme(axis.text.x = element_text(angle = 45, vjust = 1, hjust=1))
#load lib
library(CGPfunctions)
library(crosstalk)
#Confidence Intervals of Median Household consumption
private_uncert <- ggplot(data = dwelling |> filter(class == "Private",
year == givenyear),
aes(x = DWELLING_TYPE, y = consumption_GWh)) +
stat_pointinterval(point_interval = "median_qi",
.width = c(0.95,0.99),
point_color = "red3") +
labs(title = "Private", x = "Dwelling Type", ylab = "GWh") +
theme(axis.text.x = element_text(angle = 45, vjust = 1, hjust=1))
#load lib
library(CGPfunctions)
library(ggdist)
#Confidence Intervals of Median Household consumption
private_uncert <- ggplot(data = dwelling |> filter(class == "Private",
year == givenyear),
aes(x = DWELLING_TYPE, y = consumption_GWh)) +
stat_pointinterval(point_interval = "median_qi",
.width = c(0.95,0.99),
point_color = "red3") +
labs(title = "Private", x = "Dwelling Type", ylab = "GWh") +
theme(axis.text.x = element_text(angle = 45, vjust = 1, hjust=1))
private_uncert
#Confidence Intervals of Median Household consumption
private_uncert <- ggplot(data = dwelling |> filter(year == givenyear),
aes(x = DWELLING_TYPE, y = consumption_GWh)) +
stat_pointinterval(point_interval = "median_qi",
.width = c(0.95,0.99),
point_color = "red3") +
labs(title = "Dwelling Type", x = "", ylab = "GWh") +
theme(axis.text.x = element_text(angle = 45, vjust = 1, hjust=1))
private_uncert
#Confidence Intervals of Median Household consumption
private_uncert <- ggplot(data = dwelling |> filter(year == givenyear),
aes(x = DWELLING_TYPE, y = consumption_GWh)) +
stat_pointinterval(point_interval = "median_qi",
.width = c(0.95,0.99),
point_color = "red3") +
labs(title = "Visualising Confidence Intervals of Median Monthly Household Electricity Consumption",
x = "", y = "GWh", subtitle = paste0("Year", year)) +
theme(axis.text.x = element_text(angle = 45, vjust = 1, hjust=1))
packages = c('tidyverse', 'ggstatsplot', 'psych', 'lubridate', 'ggrepel', 'plotly')
for(p in packages){
if(!require(p,character.only = T)){
install.packages(p)
}
library(p,character.only = T)
}
#Confidence Intervals of Median Household consumption
private_uncert <- ggplot(data = dwelling |> filter(year == givenyear),
aes(x = DWELLING_TYPE, y = consumption_GWh)) +
stat_pointinterval(point_interval = "median_qi",
.width = c(0.95,0.99),
point_color = "red3") +
labs(title = "Visualising Confidence Intervals of Median Monthly Household Electricity Consumption",
x = "", y = "GWh", subtitle = paste0("Year", year)) +
theme(axis.text.x = element_text(angle = 45, vjust = 1, hjust=1))
#Confidence Intervals of Median Household consumption
private_uncert <- ggplot(data = dwelling |> filter(year == givenyear),
aes(x = DWELLING_TYPE, y = consumption_GWh)) +
stat_pointinterval(point_interval = "median_qi",
.width = c(0.95,0.99),
point_color = "red3") +
labs(title = "Visualising Confidence Intervals of Median Monthly Household Electricity Consumption",
x = "", y = "GWh", subtitle = paste0("Year", givenyear)) +
theme(axis.text.x = element_text(angle = 45, vjust = 1, hjust=1))
private_uncert
#Confidence Intervals of Median Household consumption
private_uncert <- ggplot(data = dwelling |> filter(year == givenyear),
aes(x = DWELLING_TYPE, y = consumption_GWh)) +
stat_pointinterval(point_interval = "median_qi",
.width = c(0.95,0.99),
point_color = "red3") +
labs(title = "Visualising Confidence Intervals of Median Monthly Household Electricity Consumption",
x = "", y = "GWh", subtitle = paste0("Year ", givenyear)) +
theme(axis.text.x = element_text(angle = 45, vjust = 1, hjust=1))
private_uncert
#Confidence Intervals of Median Household consumption
private_uncert <- ggplot(data = dwelling |> filter(year == givenyear),
aes(x = DWELLING_TYPE, y = consumption_GWh)) +
stat_pointinterval(point_interval = "median_qi",
.width = c(0.95,0.99),
point_color = "red3") +
labs(title = "Visualising Confidence Intervals of Median Elec Consumption",
x = "", y = "GWh", subtitle = paste0("Year ", givenyear)) +
theme(axis.text.x = element_text(angle = 45, vjust = 1, hjust=1))
private_uncert
#Confidence Intervals of Median Household consumption
private_uncert <- ggplot(data = dwelling |> filter(year == givenyear),
aes(x = DWELLING_TYPE, y = consumption_GWh)) +
stat_pointinterval(point_interval = "median_qi",
.width = c(0.95,0.99),
point_color = "red3") +
labs(title = "Visualising Confidence Intervals of Median Electricity Consumption",
x = "", y = "GWh", subtitle = paste0("Year ", givenyear)) +
theme(axis.text.x = element_text(angle = 45, vjust = 1, hjust=1))
private_uncert
private_uncert
#combining plots
combine_plots(
list(private, public),
plotgrid.args = list(nrow = 5),
annotation.args = list(
title = "Comparison of Monthly Household Electricity Consumption by Dwelling Type",
subtitle = paste0("Year",givenyear),
theme = theme(
plot.subtitle = element_text(size = 10),
plot.title = element_text(size = 12))))
packages = c('tidyverse', 'ggstatsplot', 'psych', 'lubridate', 'ggrepel', 'plotly')
for(p in packages){
if(!require(p,character.only = T)){
install.packages(p)
}
library(p,character.only = T)
}
#library(shiny)
#library(shinydashboard)
#library(shinythemes)
#library(shinyWidgets)
library(RColorBrewer)
library(tidyverse)
library(lubridate)
library(geofacet)
library(treemap)
library(ggstatsplot)
library(ggridges)
#Confidence Intervals of Median Household consumption
private_uncert <- ggplot(data = dwelling |> filter(year == givenyear),
aes(x = DWELLING_TYPE, y = consumption_GWh)) +
stat_pointinterval(point_interval = "median_qi",
.width = c(0.95,0.99),
point_color = "red3") +
labs(title = "Visualising Confidence Intervals of Median Electricity Consumption",
x = "", y = "GWh", subtitle = paste0("Year ", givenyear)) +
theme(axis.text.x = element_text(angle = 45, vjust = 1, hjust=1))
{r}
dwelling <- T3.4 %>%
filter(year %in% c(2005:2022)) %>%
filter(month %in% c(1:12)) %>%
filter(DWELLING_TYPE %in% c('1-room / 2-room','3-room','4-room',
'5-room and Executive',
'Private Apartments and Condominiums',
'Landed Properties', 'Others')) %>%
mutate(date = parse_date_time(paste0(year, "-", month,"-1"),"ymd")) %>%
mutate(monthyear = format(as.Date(date), "%b'%Y"))
#Add Private vs Public Classification
dwelling$class <- case_when(
dwelling$DWELLING_TYPE %in% c('Private Apartments and Condominiums',
'Landed Properties', 'Others') ~ "Private",
dwelling$DWELLING_TYPE %in% c('1-room / 2-room','3-room','4-room',
'5-room and Executive') ~ "Public")
dwelling <- T3.4 %>%
filter(year %in% c(2005:2022)) %>%
filter(month %in% c(1:12)) %>%
filter(DWELLING_TYPE %in% c('1-room / 2-room','3-room','4-room',
'5-room and Executive',
'Private Apartments and Condominiums',
'Landed Properties', 'Others')) %>%
mutate(date = parse_date_time(paste0(year, "-", month,"-1"),"ymd")) %>%
mutate(monthyear = format(as.Date(date), "%b'%Y"))
#Add Private vs Public Classification
dwelling$class <- case_when(
dwelling$DWELLING_TYPE %in% c('Private Apartments and Condominiums',
'Landed Properties', 'Others') ~ "Private",
dwelling$DWELLING_TYPE %in% c('1-room / 2-room','3-room','4-room',
'5-room and Executive') ~ "Public")
View(dwelling)
dwelling <- T3.4 %>%
filter(year %in% c(2005:2022)) %>%
filter(month %in% c(1:12)) %>%
filter(DWELLING_TYPE %in% c('1-room / 2-room','3-room','4-room',
'5-room and Executive',
'Private Apartments and Condominiums',
'Landed Properties', 'Others')) %>%
mutate(date = parse_date_time(paste0(year, "-", month,"-1"),"ymd")) %>%
mutate(monthyear = format(as.Date(date), "%b %Y"))
#Add Private vs Public Classification
dwelling$class <- case_when(
dwelling$DWELLING_TYPE %in% c('Private Apartments and Condominiums',
'Landed Properties', 'Others') ~ "Private",
dwelling$DWELLING_TYPE %in% c('1-room / 2-room','3-room','4-room',
'5-room and Executive') ~ "Public")
dwelling <- T3.4 %>%
filter(year %in% c(2005:2022)) %>%
filter(month %in% c(1:12)) %>%
filter(DWELLING_TYPE %in% c('1-room / 2-room','3-room','4-room',
'5-room and Executive',
'Private Apartments and Condominiums',
'Landed Properties', 'Others')) %>%
mutate(date = parse_date_time(paste0(year, "-", month,"-1"),"ymd"),orders=c("Yb","%Y %b","%Y%b","Y b")) %>%
mutate(monthyear = format(as.Date(date), "%b %Y"))
dwelling <- T3.4 %>%
filter(year %in% c(2005:2022)) %>%
filter(month %in% c(1:12)) %>%
filter(DWELLING_TYPE %in% c('1-room / 2-room','3-room','4-room',
'5-room and Executive',
'Private Apartments and Condominiums',
'Landed Properties', 'Others')) %>%
mutate(date = parse_date_time(paste0(year, "-", month,"-1")),orders=c("Yb","%Y %b","%Y%b","Y b")) %>%
mutate(monthyear = format(as.Date(date), "%b %Y"))
dwelling <- T3.4 %>%
filter(year %in% c(2005:2022)) %>%
filter(month %in% c(1:12)) %>%
filter(DWELLING_TYPE %in% c('1-room / 2-room','3-room','4-room',
'5-room and Executive',
'Private Apartments and Condominiums',
'Landed Properties', 'Others')) %>%
mutate(date = parse_date_time(paste0(year, "-", month,"-1"),orders=c("Yb","%Y %b","%Y%b","Y b"))) %>%
mutate(monthyear = format(as.Date(date), "%b %Y"))
#Add Private vs Public Classification
dwelling$class <- case_when(
dwelling$DWELLING_TYPE %in% c('Private Apartments and Condominiums',
'Landed Properties', 'Others') ~ "Private",
dwelling$DWELLING_TYPE %in% c('1-room / 2-room','3-room','4-room',
'5-room and Executive') ~ "Public")
dwelling <- T3.4 %>%
filter(year %in% c(2005:2022)) %>%
filter(month %in% c(1:12)) %>%
filter(DWELLING_TYPE %in% c('1-room / 2-room','3-room','4-room',
'5-room and Executive',
'Private Apartments and Condominiums',
'Landed Properties', 'Others')) %>%
mutate(date = parse_date_time(paste0(year, "-", month,"-1"),orders=c("ymd","Yb","%Y %b","%Y%b","Y b"))) %>%
mutate(monthyear = format(as.Date(date), "%b %Y"))
bar_dwelling <- dwelling %>%
mutate(rank = rank(-consumption_GWh),
Value_rel = consumption_GWh/consumption_GWh[rank==1],
Value_lbl = paste0(" ",round(value/1e3))) %>%
ungroup()
bar_dwelling <- dwelling %>%
mutate(rank = rank(-consumption_GWh),
cons_rel = consumption_GWh/consumption_GWh[rank==1],
cons_lbl = paste0(" ",consumption_GWh))) %>%
bar_dwelling <- dwelling %>%
mutate(rank = rank(-consumption_GWh),
cons_rel = consumption_GWh/consumption_GWh[rank==1],
cons_lbl = paste0(" ",consumption_GWh)) %>%
ungroup()
View(bar_dwelling)
anim <- ggplot(bar_dwelling, aes(rank, group = DWELLING_TYPE,
fill = as.factor(DWELLING_TYPE), color = as.factor(DWELLING_TYPE))) +
geom_tile(aes(y = consumption_GWh/2,
height = consumption_GWh,
width = 0.9), alpha = 0.8, color = NA) +
geom_text(aes(y = value, label = paste(" ",DWELLING_TYPE,"\n",cons_lbl)), hjust = 0, color="black") +
coord_flip(clip = "off", expand = FALSE) +
scale_y_continuous(labels = scales::comma) +
scale_x_reverse() +
guides(color = FALSE, fill = FALSE) +
theme(axis.line=element_blank(),
axis.text.y=element_blank(),
axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),
legend.position="none",
panel.background=element_blank(),
panel.border=element_blank(),
panel.grid.major=element_blank(),
panel.grid.minor=element_blank(),
panel.grid.major.x = element_line(linewidth=.1, color="grey80" ),
panel.grid.minor.x = element_line(linewidth=.1, color="grey80" ),
plot.title=element_text(size=20, hjust=0.5, face="bold", colour="black"),
plot.subtitle=element_text(size=18, hjust=0.5, face="italic", color="grey"),
plot.caption =element_text(size=8, hjust=0.5, face="italic", color="grey"),
plot.background=element_blank(),
plot.margin = margin(2,2, 2, 2, "cm"))
animated <- anim +
transition_states(Date, transition_length = 6, state_length = 1) +
view_follow(fixed_y = c(0,300)) +
ease_aes('cubic-in-out') +
labs(title = "Total Household Electricity Consumption by Dwelling Type: {format(frame_time, '%b%y')}",
x = "Electricity Consumption (GWh)",
caption="Source: ema.gov.sg")
library(ggaminate)
pacman::p_load(ggaminate)
anim <- ggplot(bar_dwelling, aes(rank, group = DWELLING_TYPE,
fill = as.factor(DWELLING_TYPE), color = as.factor(DWELLING_TYPE))) +
geom_tile(aes(y = consumption_GWh/2,
height = consumption_GWh,
width = 0.9), alpha = 0.8, color = NA) +
geom_text(aes(y = value, label = paste(" ",DWELLING_TYPE,"\n",cons_lbl)), hjust = 0, color="black") +
coord_flip(clip = "off", expand = FALSE) +
scale_y_continuous(labels = scales::comma) +
scale_x_reverse() +
guides(color = FALSE, fill = FALSE) +
theme(axis.line=element_blank(),
axis.text.y=element_blank(),
axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.title.y=element_blank(),
legend.position="none",
panel.background=element_blank(),
panel.border=element_blank(),
panel.grid.major=element_blank(),
panel.grid.minor=element_blank(),
panel.grid.major.x = element_line(linewidth=.1, color="grey80" ),
panel.grid.minor.x = element_line(linewidth=.1, color="grey80" ),
plot.title=element_text(size=20, hjust=0.5, face="bold", colour="black"),
plot.subtitle=element_text(size=18, hjust=0.5, face="italic", color="grey"),
plot.caption =element_text(size=8, hjust=0.5, face="italic", color="grey"),
plot.background=element_blank(),
plot.margin = margin(2,2, 2, 2, "cm"))
animated <- anim +
transition_states(Date, transition_length = 6, state_length = 1) +
view_follow(fixed_y = c(0,300)) +
ease_aes('cubic-in-out') +
labs(title = "Total Household Electricity Consumption by Dwelling Type: {format(frame_time, '%b%y')}",
x = "Electricity Consumption (GWh)",
caption="Source: ema.gov.sg")
