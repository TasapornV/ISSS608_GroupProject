plot(forecast(arima_ts, h =2, model = fit))
library(forecast)
library(tsibble)
library(zoo)
arima <- town
arima$ym <- yearmonth(as.yearmon(paste(arima$year, arima$month), "%Y %m"))
a <- arima %>%
group_by(ym) %>%
summarise(avgcon = mean(kwh_per_acc, na.rm = TRUE)) %>%
ungroup()
arima_ts <- ts(data=a$avgcon, start = c(2005,1), end = c(2022,6), frequency=12)
fit <- ets(window(arima_ts, end = 60))
packages = c('tidyverse', 'ggstatsplot', 'psych', 'lubridate', 'ggrepel', 'plotly', "tidyr", "readr")
for(p in packages){
if(!require(p,character.only = T)){
install.packages(p)
}
library(p,character.only = T)
}
library(readr)
#T2.3 <- read_csv("data/T2-3.csv")
#saveRDS(T2.3, file = "RDS/T2-3.rds")
#T2.6 <- read_csv("data/T2-6.csv")
#saveRDS(T2.6, file = "RDS/T2-6.rds")
T3.4 <- read_csv("data/T3-4.csv")
saveRDS(T3.4, file = "RDS/T3-4.rds")
T3.5 <- read_csv("data/T3-5.csv")
saveRDS(T3.5, file = "RDS/T3-5.rds")
T3.6 <- read_csv("data/T3-6.csv")
saveRDS(T3.6, file = "RDS/T3-6.rds")
T3.7 <- read_csv("data/T3-7.csv")
saveRDS(T3.7, file = "RDS/T3-7.rds")
T3.8 <- read_csv("data/T3-8.csv")
saveRDS(T3.8, file = "RDS/T3-8.rds")
T3.9 <- read_csv("data/T3-9.csv")
saveRDS(T3.9, file = "RDS/T3-9.rds")
# T5.1 <- read_csv("data/T5-1.csv")
# saveRDS(T5.1, file = "RDS/T5-1.rds")
#
# T5.2 <- read_csv("data/T5-2.csv")
# saveRDS(T5.2, file = "RDS/T5-2.rds")
#T5.3 <- read_csv("data/T5-3.csv")
#saveRDS(T5.3, file = "RDS/T5-3.rds")
# T5.4 <- read_csv("data/T5-4.csv")
# saveRDS(T5.4, file = "RDS/T5-4.rds")
#
# T5.5 <- read_csv("data/T5-5.csv")
# saveRDS(T5.4, file = "RDS/T5-5.rds")
#| fig-width: 10
knitr::kable(head(T2.3, 5))
#| fig-width: 10
knitr::kable(head(T2.6, 5))
library(forecast)
library(tsibble)
library(zoo)
arima <- town
arima$ym <- yearmonth(as.yearmon(paste(arima$year, arima$month), "%Y %m"))
a <- arima %>%
group_by(ym) %>%
summarise(avgcon = mean(kwh_per_acc, na.rm = TRUE)) %>%
ungroup()
arima_ts <- ts(data=a$avgcon, start = c(2005,1), end = c(2022,6), frequency=12)
fit <- ets(window(arima_ts))
# Generate forecasts using the ARIMA method
plot(forecast(arima_ts, h =2, model = fit))
plot(forecast(arima_ts, h =2))
WWWusage %>% forecast %>% plot
fit <- ets(window(WWWusage, end=60))
fc <- forecast(WWWusage, model=fit)
library(forecast)
library(tsibble)
library(zoo)
arima <- town
arima$ym <- yearmonth(as.yearmon(paste(arima$year, arima$month), "%Y %m"))
a <- arima %>%
group_by(ym) %>%
summarise(avgcon = mean(kwh_per_acc, na.rm = TRUE)) %>%
ungroup()
arima_ts <- ts(data=a$avgcon, start = c(2005,1), end = c(2022,6), frequency=12)
fit <- ets(window(arima_ts))
# Generate forecasts using the ARIMA method
plot(forecast(arima_ts, h =10, model = fit))
plot(forecast(arima_ts, h =2))
WWWusage %>% forecast %>% plot
fit <- ets(window(WWWusage, end=60))
fc <- forecast(WWWusage, model=fit)
fit2 <- arima(window(arima_ts))
library(forecast)
library(tsibble)
library(zoo)
arima <- town
arima$ym <- yearmonth(as.yearmon(paste(arima$year, arima$month), "%Y %m"))
a <- arima %>%
group_by(ym) %>%
summarise(avgcon = mean(kwh_per_acc, na.rm = TRUE)) %>%
ungroup()
arima_ts <- ts(data=a$avgcon, start = c(2005,1), end = c(2022,6), frequency=12)
fit <- ets(window(arima_ts))
fit2 <- arima(window(arima_ts))
# Generate forecasts using the ARIMA method
plot(forecast(arima_ts, h =10, model = fit))
plot(forecast(arima_ts, h =2, model = fit2))
WWWusage %>% forecast %>% plot
fit <- ets(window(WWWusage, end=60))
fc <- forecast(WWWusage, model=fit)
library(forecast)
library(tsibble)
library(zoo)
arima <- town
arima$ym <- yearmonth(as.yearmon(paste(arima$year, arima$month), "%Y %m"))
a <- arima %>%
group_by(ym) %>%
summarise(avgcon = mean(kwh_per_acc, na.rm = TRUE)) %>%
ungroup()
arima_ts <- ts(data=a$avgcon, start = c(2005,1), end = c(2022,6), frequency=12)
fit <- ets(window(arima_ts))
fit2 <- arima(window(arima_ts))
# Generate forecasts using the ARIMA method
plot(forecast(arima_ts, h =10, model = fit))
plot(forecast(arima_ts, h =10, model = fit2))
WWWusage %>% forecast %>% plot
fit <- ets(window(WWWusage, end=60))
fc <- forecast(WWWusage, model=fit)
library(forecast)
library(tsibble)
library(zoo)
arima <- town
arima$ym <- yearmonth(as.yearmon(paste(arima$year, arima$month), "%Y %m"))
a <- arima %>%
group_by(ym) %>%
summarise(avgcon = mean(kwh_per_acc, na.rm = TRUE)) %>%
ungroup()
arima_ts <- ts(data=a$avgcon, start = c(2005,1), end = c(2022,6), frequency=12)
fit <- ets(window(arima_ts))
fit2 <- arima(window(arima_ts))
fit3 <- tslm(window(arima_ts))
fit3 <- tslm(window(arima_ts))
library(forecast)
library(tsibble)
library(zoo)
arima <- town
arima$ym <- yearmonth(as.yearmon(paste(arima$year, arima$month), "%Y %m"))
a <- arima %>%
group_by(ym) %>%
summarise(avgcon = mean(kwh_per_acc, na.rm = TRUE)) %>%
ungroup()
arima_ts <- ts(data=a$avgcon, start = c(2005,1), end = c(2022,6), frequency=12)
fit <- ets(window(arima_ts))
fit2 <- arima(window(arima_ts))
fit3 <- ar(window(arima_ts))
# Generate forecasts using the ARIMA method
plot(forecast(arima_ts, h =10, model = fit))
plot(forecast(arima_ts, h =10, model = fit2))
plot(forecast(arima_ts, h =10, model = fit3))
fit3 <- ar(window(arima_ts))
plot(forecast(arima_ts, h =10, model = fit3))
library(forecast)
library(tsibble)
library(zoo)
arima <- town
arima$ym <- yearmonth(as.yearmon(paste(arima$year, arima$month), "%Y %m"))
a <- arima %>%
group_by(ym) %>%
summarise(avgcon = mean(kwh_per_acc, na.rm = TRUE)) %>%
ungroup()
arima_ts <- ts(data=a$avgcon, start = c(2005,1), end = c(2022,6), frequency=12)
fit <- ets(window(arima_ts))
fit2 <- arima(window(arima_ts))
fit3 <- ar(window(arima_ts))
# Generate forecasts using the ARIMA method
plot(forecast(arima_ts, h =10, model = fit))
plot(forecast(arima_ts, h =10, model = fit2))
plot(forecast(arima_ts, h =10, model = fit3))
library(forecast)
library(tsibble)
library(zoo)
arima <- town
arima$ym <- yearmonth(as.yearmon(paste(arima$year, arima$month), "%Y %m"))
a <- arima %>%
group_by(ym) %>%
summarise(avgcon = mean(kwh_per_acc, na.rm = TRUE)) %>%
ungroup()
arima_ts <- ts(data=a$avgcon, start = c(2005,1), end = c(2022,6), frequency=12)
fit <- ets(window(arima_ts))
fit2 <- arima(window(arima_ts))
fit3 <- ar(window(arima_ts))
# Generate forecasts using the ARIMA method
plot(forecast(arima_ts, h =10, model = fit))
plot(forecast(arima_ts, h =10, model = fit2))
plot(forecast(arima_ts, model = fit3))
library(forecast)
library(tsibble)
library(zoo)
arima <- town
arima$ym <- yearmonth(as.yearmon(paste(arima$year, arima$month), "%Y %m"))
a <- arima %>%
group_by(ym) %>%
summarise(avgcon = mean(kwh_per_acc, na.rm = TRUE)) %>%
ungroup()
arima_ts <- ts(data=a$avgcon, start = c(2005,1), end = c(2022,6), frequency=12)
fit <- ets(window(arima_ts))
fit2 <- arima(window(arima_ts))
fit3 <- ar(window(arima_ts))
# Generate forecasts using the ARIMA method
plot(forecast(arima_ts, h =10, model = fit))
plot(forecast(arima_ts, h =10, model = fit2))
plot(forecast( fit3))
library(forecast)
library(tsibble)
library(zoo)
arima <- town
arima$ym <- yearmonth(as.yearmon(paste(arima$year, arima$month), "%Y %m"))
a <- arima %>%
group_by(ym) %>%
summarise(avgcon = mean(kwh_per_acc, na.rm = TRUE)) %>%
ungroup()
arima_ts <- ts(data=a$avgcon, start = c(2005,1), end = c(2022,6), frequency=12)
# Generate forecasts using the ARIMA method
plot(forecast(arima_ts, h =10, model = ets(window(arima_ts))))
plot(forecast(arima_ts, h =10, model = arima(window(arima_ts))))
plot(forecast(ar(window(arima_ts))))
shiny::runApp('Shiny_App_G9')
runApp('Shiny_App_G9')
library(forecast)
library(tsibble)
library(zoo)
arima <- town
arima$ym <- yearmonth(as.yearmon(paste(arima$year, arima$month), "%Y %m"))
a <- arima %>%
group_by(ym) %>%
summarise(avgcon = mean(kwh_per_acc, na.rm = TRUE)) %>%
ungroup()
timeseries <- ts(data=a$avgcon, start = c(2005,1), end = c(2022,6), frequency=12)
# Generate forecasts using the ARIMA method
plot(forecast(timeseries, h =10, model = ets(window(timeseries))))
library(forecast)
library(tsibble)
library(zoo)
arima <- town
arima$ym <- yearmonth(as.yearmon(paste(arima$year, arima$month), "%Y %m"))
a <- arima %>%
group_by(ym) %>%
summarise(avgcon = mean(kwh_per_acc, na.rm = TRUE)) %>%
ungroup()
timeseries <- ts(data=a$avgcon, start = c(2005,1), end = c(2022,6), frequency=12)
# Generate forecasts using the ARIMA method
plot(forecast(timeseries, h =10, model = ets(window(timeseries))))
library(forecast)
library(tsibble)
library(zoo)
arima <- town
arima$ym <- yearmonth(as.yearmon(paste(arima$year, arima$month), "%Y %m"))
a <- arima %>%
group_by(ym) %>%
summarise(avgcon = mean(kwh_per_acc, na.rm = TRUE)) %>%
ungroup()
arima_ts <- ts(data=a$avgcon, start = c(2005,1), end = c(2022,6), frequency=12)
fit <- ets(window(arima_ts))
fit2 <- arima(window(arima_ts))
fit3 <- ar(window(arima_ts))
# Generate forecasts using the ARIMA method
plot(forecast(arima_ts, h =10, model = fit))
fit <- ets(window(arima_ts))
# Generate forecasts using the ARIMA method
plot(forecast(arima_ts, h =10, model = fit))
library(forecast)
library(tsibble)
library(zoo)
arima <- town
arima$ym <- yearmonth(as.yearmon(paste(arima$year, arima$month), "%Y %m"))
a <- arima %>%
group_by(ym) %>%
summarise(avgcon = mean(kwh_per_acc, na.rm = TRUE)) %>%
ungroup()
arima_ts <- ts(data=a$avgcon, start = c(2005,1), end = c(2022,6), frequency=12)
fit <- ets(window(arima_ts))
fit2 <- arima(window(arima_ts))
fit3 <- ar(window(arima_ts))
# Generate forecasts using the ARIMA method
plot(forecast(arima_ts, h =10, model = fit))
library(forecast)
library(tsibble)
library(zoo)
arima <- town
arima$ym <- yearmonth(as.yearmon(paste(arima$year, arima$month), "%Y %m"))
a <- arima %>%
group_by(ym) %>%
summarise(avgcon = mean(kwh_per_acc, na.rm = TRUE)) %>%
ungroup()
arima_ts <- ts(data=a$avgcon, start = c(2005,1), end = c(2022,6), frequency=12)
fit <- ets(window(arima_ts))
fit2 <- arima(window(arima_ts))
fit3 <- ar(window(arima_ts))
# Generate forecasts using the ARIMA method
plot(forecast(arima_ts, h =10, model = fit))
library(forecast)
library(tsibble)
library(zoo)
arima <- town
arima$ym <- yearmonth(as.yearmon(paste(arima$year, arima$month), "%Y %m"))
a <- arima %>%
group_by(ym) %>%
summarise(avgcon = mean(kwh_per_acc, na.rm = TRUE)) %>%
ungroup()
arima_ts <- ts(data=a$avgcon, start = c(2005,1), end = c(2022,6), frequency=12)
fit <- ets(window(arima_ts))
fit2 <- arima(window(arima_ts))
fit3 <- ar(window(arima_ts))
# Generate forecasts using the ARIMA method
plot(forecast(arima_ts, h =10, model = fit))
library(forecast)
library(tsibble)
library(zoo)
arima <- town
arima$ym <- yearmonth(as.yearmon(paste(arima$year, arima$month), "%Y %m"))
a <- arima %>%
group_by(ym) %>%
summarise(avgcon = mean(kwh_per_acc, na.rm = TRUE)) %>%
ungroup()
arima_ts <- ts(data=a$avgcon, start = c(2005,1), end = c(2022,6), frequency=12)
fit <- ets(window(arima_ts))
fit2 <- arima(window(arima_ts))
fit3 <- tslm(window(arima_ts))
library(forecast)
library(tsibble)
library(zoo)
arima <- town
arima$ym <- yearmonth(as.yearmon(paste(arima$year, arima$month), "%Y %m"))
a <- arima %>%
group_by(ym) %>%
summarise(avgcon = mean(kwh_per_acc, na.rm = TRUE)) %>%
ungroup()
arima_ts <- ts(data=a$avgcon, start = c(2005,1), end = c(2022,6), frequency=12)
fit <- ets(window(arima_ts))
fit2 <- arima(window(arima_ts))
# fit3 <- tslm(window(arima_ts))
# Generate forecasts using the ARIMA method
plot(forecast(arima_ts, h =10, model = fit))
arima_ts <- ts(data=a$avgcon, start = c(2005,1), end = c(2022,6), frequency=12)
# fit3 <- tslm(window(arima_ts))
# Generate forecasts using the ARIMA method
plot(forecast(arima_ts, h =10, model = fit))
library(forecast)
library(tsibble)
library(zoo)
arima <- town
arima$ym <- yearmonth(as.yearmon(paste(arima$year, arima$month), "%Y %m"))
a <- arima %>%
group_by(ym) %>%
summarise(avgcon = mean(kwh_per_acc, na.rm = TRUE)) %>%
ungroup()
arima_ts <- ts(data=a$avgcon, start = c(2005,1), end = c(2022,6), frequency=12)
fit <- ets(window(arima_ts))
fit2 <- arima(window(arima_ts))
# fit3 <- tslm(window(arima_ts))
# Generate forecasts using the ARIMA method
plot(forecast(arima, h =10, model = fit))
library(forecast)
library(tsibble)
library(zoo)
arima <- town
arima$ym <- yearmonth(as.yearmon(paste(arima$year, arima$month), "%Y %m"))
a <- arima %>%
group_by(ym) %>%
summarise(avgcon = mean(kwh_per_acc, na.rm = TRUE)) %>%
ungroup()
arima_ts <- ts(data=a$avgcon, start = c(2005,1), end = c(2022,6), frequency=12)
fit <- ets(window(arima_ts))
fit2 <- arima(window(arima_ts))
# fit3 <- tslm(window(arima_ts))
# Generate forecasts using the ARIMA method
plot(forecast(arima_ts, h =10))
# fit3 <- tslm(window(arima_ts))
# Generate forecasts using the ARIMA method
plot(forecast(arima_ts, h =10))
library(forecast)
library(tsibble)
library(zoo)
arima <- town
arima$ym <- yearmonth(as.yearmon(paste(arima$year, arima$month), "%Y %m"))
a <- arima %>%
group_by(ym) %>%
summarise(avgcon = mean(kwh_per_acc, na.rm = TRUE)) %>%
ungroup()
arima_ts <- ts(data=a$avgcon, start = c(2005,1), end = c(2022,6), frequency=12)
fit <- ets(window(arima_ts))
fit2 <- arima(window(arima_ts))
# fit3 <- tslm(window(arima_ts))
# Generate forecasts using the ARIMA method
plot(forecast(arima_ts, h =10))
library(forecast)
library(tsibble)
library(zoo)
arima <- town
arima$ym <- yearmonth(as.yearmon(paste(arima$year, arima$month), "%Y %m"))
a <- arima %>%
group_by(ym) %>%
summarise(avgcon = mean(kwh_per_acc, na.rm = TRUE)) %>%
ungroup()
arima_ts <- ts(data=a$avgcon, start = c(2005,1), end = c(2022,6), frequency=12)
fit <- ets(window(arima_ts))
fit2 <- arima(window(arima_ts))
# fit3 <- tslm(window(arima_ts))
# Generate forecasts using the ARIMA method
plot(forecast(arima_ts, h =10, model = fit))
# fit3 <- tslm(window(arima_ts))
# Generate forecasts using the ARIMA method
forecast(arima_ts, h =10, model = fit)
packages = c('tidyverse', 'ggstatsplot', 'psych', 'lubridate', 'ggrepel', 'plotly', "tidyr", "readr")
for(p in packages){
if(!require(p,character.only = T)){
install.packages(p)
}
library(p,character.only = T)
}
library(forecast)
library(tsibble)
library(zoo)
arima <- town
town <- subset(T3.5, Description != 'Overall' & Description !='Central Region' &
Description !='East Region' & Description !='North East Region' &
Description !='North Region' & Description !='West Region' &
kwh_per_acc != 's' & dwelling_type != 'Private Housing' &
dwelling_type != 'Public Housing' & month != 'Annual') %>%
mutate(kwh_per_acc = as.numeric(kwh_per_acc)) %>%
mutate(date = parse_date_time(paste0(year, "-", month,"-1"),"ymd"))
library(readr)
#T2.3 <- read_csv("data/T2-3.csv")
#saveRDS(T2.3, file = "RDS/T2-3.rds")
#T2.6 <- read_csv("data/T2-6.csv")
#saveRDS(T2.6, file = "RDS/T2-6.rds")
T3.4 <- read_csv("data/T3-4.csv")
saveRDS(T3.4, file = "RDS/T3-4.rds")
T3.5 <- read_csv("data/T3-5.csv")
saveRDS(T3.5, file = "RDS/T3-5.rds")
T3.6 <- read_csv("data/T3-6.csv")
saveRDS(T3.6, file = "RDS/T3-6.rds")
T3.7 <- read_csv("data/T3-7.csv")
saveRDS(T3.7, file = "RDS/T3-7.rds")
T3.8 <- read_csv("data/T3-8.csv")
saveRDS(T3.8, file = "RDS/T3-8.rds")
T3.9 <- read_csv("data/T3-9.csv")
saveRDS(T3.9, file = "RDS/T3-9.rds")
# T5.1 <- read_csv("data/T5-1.csv")
# saveRDS(T5.1, file = "RDS/T5-1.rds")
#
# T5.2 <- read_csv("data/T5-2.csv")
# saveRDS(T5.2, file = "RDS/T5-2.rds")
#T5.3 <- read_csv("data/T5-3.csv")
#saveRDS(T5.3, file = "RDS/T5-3.rds")
# T5.4 <- read_csv("data/T5-4.csv")
# saveRDS(T5.4, file = "RDS/T5-4.rds")
#
# T5.5 <- read_csv("data/T5-5.csv")
# saveRDS(T5.4, file = "RDS/T5-5.rds")
town <- subset(T3.5, Description != 'Overall' & Description !='Central Region' &
Description !='East Region' & Description !='North East Region' &
Description !='North Region' & Description !='West Region' &
kwh_per_acc != 's' & dwelling_type != 'Private Housing' &
dwelling_type != 'Public Housing' & month != 'Annual') %>%
mutate(kwh_per_acc = as.numeric(kwh_per_acc)) %>%
mutate(date = parse_date_time(paste0(year, "-", month,"-1"),"ymd"))
#Adding housing type
town$type <- case_when(
town$dwelling_type %in% c('Private Apartments and Condominiums',
'Landed Properties', 'Others') ~ "Private",
town$dwelling_type %in% c('1-room / 2-room','3-room','4-room',
'5-room and Executive') ~ "Public")
library(forecast)
library(tsibble)
library(zoo)
arima <- town
arima$ym <- yearmonth(as.yearmon(paste(arima$year, arima$month), "%Y %m"))
a <- arima %>%
group_by(ym) %>%
summarise(avgcon = mean(kwh_per_acc, na.rm = TRUE)) %>%
ungroup()
arima_ts <- ts(data=a$avgcon, start = c(2005,1), end = c(2022,6), frequency=12)
fit <- ets(window(arima_ts))
fit2 <- arima(window(arima_ts))
# fit3 <- tslm(window(arima_ts))
# Generate forecasts using the ARIMA method
plot(forecast(arima_ts, h =10, model = fit))
library(forecast)
library(tsibble)
library(zoo)
# Convert data to tsibble format
arima <- town
arima$ym <- yearmonth(as.yearmon(paste(arima$year, arima$month), "%Y %m"))
a <- arima %>%
group_by(ym) %>%
summarise(avgcon = mean(kwh_per_acc, na.rm = TRUE)) %>%
ungroup()
arima_ts <- ts(data=a$avgcon, start = c(2005,1), end = c(2022,6), frequency=12)
# Fit model and generate forecasts
fit <- ets(window(arima_ts))
fcst <- forecast(fit, h = 10)
library(forecast)
library(tsibble)
library(zoo)
arima <- town
arima$ym <- yearmonth(as.yearmon(paste(arima$year, arima$month), "%Y %m"))
a <- arima %>%
group_by(ym) %>%
summarise(avgcon = mean(kwh_per_acc, na.rm = TRUE)) %>%
ungroup()
arima_ts <- ts(data=a$avgcon, start = c(2005,1), end = c(2022,6), frequency=12)
fit <- ets(window(arima_ts))
fit2 <- arima(window(arima_ts))
# fit3 <- tslm(window(arima_ts))
# Generate forecasts using the ARIMA method
plot(forecast(arima_ts, h =10, model = fit))
