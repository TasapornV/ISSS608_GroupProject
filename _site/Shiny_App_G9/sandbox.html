<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="G9">

<title>Power Visual - Sandbox</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../logo1.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script src="../site_libs/htmlwidgets-1.6.0/htmlwidgets.js"></script>
<script src="../site_libs/plotly-binding-4.10.1/plotly.js"></script>
<script src="../site_libs/typedarray-0.1/typedarray.min.js"></script>
<script src="../site_libs/jquery-3.5.1/jquery.min.js"></script>
<link href="../site_libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="../site_libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="../site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="../site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../nav_logo.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Power Visual</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="../index.html"><i class="bi bi-house-fill" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../proposal.html">
 <span class="menu-text">Proposal</span></a>
  </li>  
  <li class="dropdown-header">
 <span class="menu-text">Poster</span></li>
  <li class="nav-item">
    <a class="nav-link" href="https://tasapornv.shinyapps.io/Shiny_App_G9/">
 <span class="menu-text">Shiny App</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../MOM.html">
 <span class="menu-text">Meeting Minutes</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/TasapornV/ISSS608_GroupProject"><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html">
 <span class="menu-text">The Team</span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-page-left">
      <h1 class="title">Sandbox</h1>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>G9 </p>
            </div>
    </div>
      
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#install-and-launching-r-packages" id="toc-install-and-launching-r-packages" class="nav-link active" data-scroll-target="#install-and-launching-r-packages"><span class="toc-section-number">1</span>  Install and launching R packages</a></li>
  <li><a href="#read-data-and-compress-in-rds-file" id="toc-read-data-and-compress-in-rds-file" class="nav-link" data-scroll-target="#read-data-and-compress-in-rds-file"><span class="toc-section-number">2</span>  Read data and compress in RDS file</a>
  <ul class="collapse">
  <li><a href="#data-table" id="toc-data-table" class="nav-link" data-scroll-target="#data-table"><span class="toc-section-number">2.1</span>  Data table</a></li>
  </ul></li>
  <li><a href="#shiny" id="toc-shiny" class="nav-link" data-scroll-target="#shiny"><span class="toc-section-number">3</span>  Shiny</a>
  <ul class="collapse">
  <li><a href="#skeleton" id="toc-skeleton" class="nav-link" data-scroll-target="#skeleton"><span class="toc-section-number">3.1</span>  Skeleton</a></li>
  <li><a href="#data-tab-data-table-page" id="toc-data-tab-data-table-page" class="nav-link" data-scroll-target="#data-tab-data-table-page"><span class="toc-section-number">3.2</span>  Data tab : data table page</a></li>
  <li><a href="#overview-tab-geofacet" id="toc-overview-tab-geofacet" class="nav-link" data-scroll-target="#overview-tab-geofacet"><span class="toc-section-number">3.3</span>  Overview tab : geofacet</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block column-page-left" id="quarto-document-content">




<section id="install-and-launching-r-packages" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="install-and-launching-r-packages"><span class="header-section-number">1</span> Install and launching R packages</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>packages <span class="ot">=</span> <span class="fu">c</span>(<span class="st">'tidyverse'</span>, <span class="st">'ggstatsplot'</span>, <span class="st">'psych'</span>, <span class="st">'lubridate'</span>, <span class="st">'ggrepel'</span>, <span class="st">'plotly'</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(p <span class="cf">in</span> packages){</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(p,<span class="at">character.only =</span> T)){</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">install.packages</span>(p)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(p,<span class="at">character.only =</span> T)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="read-data-and-compress-in-rds-file" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="read-data-and-compress-in-rds-file"><span class="header-section-number">2</span> Read data and compress in RDS file</h2>
<p>This section of code is used to compress the file so that it will not load too slowly when it is uploaded to the website. I’ve already built the RDS files in the RDS folder, so you don’t need to run this script.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>T2<span class="fl">.3</span> <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/T2-3.csv"</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(T2<span class="fl">.3</span>, <span class="at">file =</span> <span class="st">"RDS/T2-3.rds"</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>T2<span class="fl">.6</span> <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/T2-6.csv"</span>)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(T2<span class="fl">.6</span>, <span class="at">file =</span> <span class="st">"RDS/T2-6.rds"</span>)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>T3<span class="fl">.4</span> <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/T3-4.csv"</span>)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(T3<span class="fl">.4</span>, <span class="at">file =</span> <span class="st">"RDS/T3-4.rds"</span>)</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>T3<span class="fl">.5</span> <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/T3-5.csv"</span>)</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(T3<span class="fl">.5</span>, <span class="at">file =</span> <span class="st">"RDS/T3-5.rds"</span>)</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>T3<span class="fl">.6</span> <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/T3-6.csv"</span>)</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(T3<span class="fl">.6</span>, <span class="at">file =</span> <span class="st">"RDS/T3-6.rds"</span>)</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>T3<span class="fl">.7</span> <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/T3-7.csv"</span>)</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(T3<span class="fl">.7</span>, <span class="at">file =</span> <span class="st">"RDS/T3-7.rds"</span>)</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>T3<span class="fl">.8</span> <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/T3-8.csv"</span>)</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(T3<span class="fl">.8</span>, <span class="at">file =</span> <span class="st">"RDS/T3-8.rds"</span>)</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>T3<span class="fl">.9</span> <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/T3-9.csv"</span>)</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(T3<span class="fl">.9</span>, <span class="at">file =</span> <span class="st">"RDS/T3-9.rds"</span>)</span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>T5<span class="fl">.1</span> <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/T5-1.csv"</span>)</span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(T5<span class="fl">.1</span>, <span class="at">file =</span> <span class="st">"RDS/T5-1.rds"</span>)</span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>T5<span class="fl">.2</span> <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/T5-2.csv"</span>)</span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(T5<span class="fl">.2</span>, <span class="at">file =</span> <span class="st">"RDS/T5-2.rds"</span>)</span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>T5<span class="fl">.3</span> <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/T5-3.csv"</span>)</span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(T5<span class="fl">.3</span>, <span class="at">file =</span> <span class="st">"RDS/T5-3.rds"</span>)</span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a>T5<span class="fl">.4</span> <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/T5-4.csv"</span>)</span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(T5<span class="fl">.4</span>, <span class="at">file =</span> <span class="st">"RDS/T5-4.rds"</span>)</span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a>T5<span class="fl">.5</span> <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/T5-5.csv"</span>)</span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(T5<span class="fl">.4</span>, <span class="at">file =</span> <span class="st">"RDS/T5-5.rds"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="data-table" class="level3" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="data-table"><span class="header-section-number">2.1</span> Data table</h3>
<p>T2.3 : Peak System Demand</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped">
<thead>
<tr class="header">
<th style="text-align: right;">year</th>
<th style="text-align: right;">mth</th>
<th style="text-align: right;">peak_system_demand_mw</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">2005</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">5083</td>
</tr>
<tr class="even">
<td style="text-align: right;">2005</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">5285</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2005</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">5333</td>
</tr>
<tr class="even">
<td style="text-align: right;">2005</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">5408</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2005</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">5385</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>T2.6 : Market Share of Electricity Generation</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped">
<thead>
<tr class="header">
<th style="text-align: left;">year</th>
<th style="text-align: left;">company</th>
<th style="text-align: right;">share_percent</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">2005</td>
<td style="text-align: left;">Tuas Power Generation</td>
<td style="text-align: right;">23.2</td>
</tr>
<tr class="even">
<td style="text-align: left;">2005</td>
<td style="text-align: left;">Senoko Energy</td>
<td style="text-align: right;">31.7</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2005</td>
<td style="text-align: left;">YTL PowerSeraya</td>
<td style="text-align: right;">28.1</td>
</tr>
<tr class="even">
<td style="text-align: left;">2005</td>
<td style="text-align: left;">Keppel Merlimau Cogen</td>
<td style="text-align: right;">0.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2005</td>
<td style="text-align: left;">SembCorp Cogen</td>
<td style="text-align: right;">12.1</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>T3.4 : Total Household Electricity Consumption by Dwelling Type</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped">
<thead>
<tr class="header">
<th style="text-align: left;">year</th>
<th style="text-align: left;">month</th>
<th style="text-align: left;">DWELLING_TYPE</th>
<th style="text-align: right;">consumption_GWh</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">2005</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">Overall</td>
<td style="text-align: right;">447.8</td>
</tr>
<tr class="even">
<td style="text-align: left;">2005</td>
<td style="text-align: left;">2</td>
<td style="text-align: left;">Overall</td>
<td style="text-align: right;">437.1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2005</td>
<td style="text-align: left;">3</td>
<td style="text-align: left;">Overall</td>
<td style="text-align: right;">479.7</td>
</tr>
<tr class="even">
<td style="text-align: left;">2005</td>
<td style="text-align: left;">4</td>
<td style="text-align: left;">Overall</td>
<td style="text-align: right;">533.6</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2005</td>
<td style="text-align: left;">5</td>
<td style="text-align: left;">Overall</td>
<td style="text-align: right;">535.0</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>T3.5 : Average Monthly Household Electricity Consumption by Planning Area &amp; Dwelling Type</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 23%">
<col style="width: 7%">
<col style="width: 8%">
<col style="width: 21%">
<col style="width: 21%">
<col style="width: 17%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">dwelling_type</th>
<th style="text-align: right;">year</th>
<th style="text-align: left;">month</th>
<th style="text-align: left;">Region</th>
<th style="text-align: left;">Description</th>
<th style="text-align: left;">kwh_per_acc</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1-room / 2-room</td>
<td style="text-align: right;">2005</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">Central Region</td>
<td style="text-align: left;">Bishan</td>
<td style="text-align: left;">104.9</td>
</tr>
<tr class="even">
<td style="text-align: left;">1-room / 2-room</td>
<td style="text-align: right;">2005</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">Central Region</td>
<td style="text-align: left;">Bukit Merah</td>
<td style="text-align: left;">140.7</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1-room / 2-room</td>
<td style="text-align: right;">2005</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">Central Region</td>
<td style="text-align: left;">Central Region</td>
<td style="text-align: left;">136.5</td>
</tr>
<tr class="even">
<td style="text-align: left;">1-room / 2-room</td>
<td style="text-align: right;">2005</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">Central Region</td>
<td style="text-align: left;">Geylang</td>
<td style="text-align: left;">148.5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1-room / 2-room</td>
<td style="text-align: right;">2005</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">Central Region</td>
<td style="text-align: left;">Kallang</td>
<td style="text-align: left;">115.6</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>T3.6 : Market Share for Natural Gas Retail</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped">
<thead>
<tr class="header">
<th style="text-align: right;">year</th>
<th style="text-align: left;">company</th>
<th style="text-align: left;">market_share_percent</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">2007</td>
<td style="text-align: left;">SembCorp Gas</td>
<td style="text-align: left;">65.1</td>
</tr>
<tr class="even">
<td style="text-align: right;">2007</td>
<td style="text-align: left;">Pavilion Gas</td>
<td style="text-align: left;">-</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2007</td>
<td style="text-align: left;">City-OG Gas Energy Services</td>
<td style="text-align: left;">-</td>
</tr>
<tr class="even">
<td style="text-align: right;">2007</td>
<td style="text-align: left;">City Gas</td>
<td style="text-align: left;">5.9</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2007</td>
<td style="text-align: left;">Keppel Gas</td>
<td style="text-align: left;">-</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>T3.7 : Natural Gas Consumption by Sub-Sector</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 6%">
<col style="width: 36%">
<col style="width: 34%">
<col style="width: 22%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">year</th>
<th style="text-align: left;">sector</th>
<th style="text-align: left;">sub_sector</th>
<th style="text-align: right;">ng_consumption_tj</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">2009</td>
<td style="text-align: left;">Industrial-related</td>
<td style="text-align: left;">Manufacturing</td>
<td style="text-align: right;">29960.9</td>
</tr>
<tr class="even">
<td style="text-align: right;">2009</td>
<td style="text-align: left;">Industrial-related</td>
<td style="text-align: left;">Construction</td>
<td style="text-align: right;">132.2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2009</td>
<td style="text-align: left;">Industrial-related</td>
<td style="text-align: left;">Utilities</td>
<td style="text-align: right;">320.3</td>
</tr>
<tr class="even">
<td style="text-align: right;">2009</td>
<td style="text-align: left;">Industrial-related</td>
<td style="text-align: left;">Other Industrial-related</td>
<td style="text-align: right;">0.0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2009</td>
<td style="text-align: left;">Commerce and Service-related</td>
<td style="text-align: left;">Wholesale and Retail Trade</td>
<td style="text-align: right;">116.7</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>T3.8 : Total Household Town Gas Consumption by Dwelling Type</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 6%">
<col style="width: 13%">
<col style="width: 9%">
<col style="width: 9%">
<col style="width: 16%">
<col style="width: 18%">
<col style="width: 20%">
<col style="width: 5%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">month</th>
<th style="text-align: right;">public_1-rm_2-rm</th>
<th style="text-align: right;">public_3-rm</th>
<th style="text-align: right;">public_4-rm</th>
<th style="text-align: right;">public_5-rm_and_exec</th>
<th style="text-align: right;">private_apts_and_condo</th>
<th style="text-align: right;">private_landed_properties</th>
<th style="text-align: right;">others</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">2005-01</td>
<td style="text-align: right;">1.1</td>
<td style="text-align: right;">6.6</td>
<td style="text-align: right;">16.0</td>
<td style="text-align: right;">17.4</td>
<td style="text-align: right;">5.9</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">0.6</td>
</tr>
<tr class="even">
<td style="text-align: left;">2005-02</td>
<td style="text-align: right;">1.1</td>
<td style="text-align: right;">6.5</td>
<td style="text-align: right;">15.8</td>
<td style="text-align: right;">17.2</td>
<td style="text-align: right;">6.0</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">0.6</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2005-03</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">6.5</td>
<td style="text-align: right;">15.9</td>
<td style="text-align: right;">17.5</td>
<td style="text-align: right;">5.9</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">0.5</td>
</tr>
<tr class="even">
<td style="text-align: left;">2005-04</td>
<td style="text-align: right;">1.1</td>
<td style="text-align: right;">6.6</td>
<td style="text-align: right;">16.1</td>
<td style="text-align: right;">17.7</td>
<td style="text-align: right;">6.1</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">0.5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2005-05</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">6.2</td>
<td style="text-align: right;">15.6</td>
<td style="text-align: right;">17.1</td>
<td style="text-align: right;">5.9</td>
<td style="text-align: right;">0.9</td>
<td style="text-align: right;">0.5</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>T3.9 : Average Monthly Household Town Gas Consumption by Planning Area &amp; Dwelling Type</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 23%">
<col style="width: 7%">
<col style="width: 8%">
<col style="width: 21%">
<col style="width: 21%">
<col style="width: 17%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">dwelling_type</th>
<th style="text-align: right;">year</th>
<th style="text-align: left;">month</th>
<th style="text-align: left;">Region</th>
<th style="text-align: left;">Description</th>
<th style="text-align: left;">kwh_per_acc</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1-room / 2-room</td>
<td style="text-align: right;">2005</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">Central Region</td>
<td style="text-align: left;">Bishan</td>
<td style="text-align: left;">59.3</td>
</tr>
<tr class="even">
<td style="text-align: left;">1-room / 2-room</td>
<td style="text-align: right;">2005</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">Central Region</td>
<td style="text-align: left;">Bukit Merah</td>
<td style="text-align: left;">71.9</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1-room / 2-room</td>
<td style="text-align: right;">2005</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">Central Region</td>
<td style="text-align: left;">Central Region</td>
<td style="text-align: left;">67.7</td>
</tr>
<tr class="even">
<td style="text-align: left;">1-room / 2-room</td>
<td style="text-align: right;">2005</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">Central Region</td>
<td style="text-align: left;">Geylang</td>
<td style="text-align: left;">71.9</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1-room / 2-room</td>
<td style="text-align: right;">2005</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">Central Region</td>
<td style="text-align: left;">Kallang</td>
<td style="text-align: left;">60.7</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><strong>T5.1 : Electricity and Gas Tariffs</strong></p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 2%">
<col style="width: 24%">
<col style="width: 22%">
<col style="width: 9%">
<col style="width: 8%">
<col style="width: 16%">
<col style="width: 16%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">year</th>
<th style="text-align: right;">price_electtariffs_inflatnadjusted_cent_per_kwh</th>
<th style="text-align: right;">price_tgtariffs_inflatnadjusted_cent_per_kwh</th>
<th style="text-align: right;">index_electtariffs</th>
<th style="text-align: right;">index_tgtariffs</th>
<th style="text-align: right;">index_electariffs_inflatadjusted</th>
<th style="text-align: right;">index_tgtariffs_inflatnadjusted</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">2005</td>
<td style="text-align: right;">22.6</td>
<td style="text-align: right;">20.4</td>
<td style="text-align: right;">74.9</td>
<td style="text-align: right;">84.6</td>
<td style="text-align: right;">95.9</td>
<td style="text-align: right;">108.3</td>
</tr>
<tr class="even">
<td style="text-align: left;">2006</td>
<td style="text-align: right;">26.5</td>
<td style="text-align: right;">21.7</td>
<td style="text-align: right;">89.4</td>
<td style="text-align: right;">91.6</td>
<td style="text-align: right;">112.5</td>
<td style="text-align: right;">115.3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2007</td>
<td style="text-align: right;">24.9</td>
<td style="text-align: right;">21.1</td>
<td style="text-align: right;">85.7</td>
<td style="text-align: right;">91.1</td>
<td style="text-align: right;">105.5</td>
<td style="text-align: right;">112.1</td>
</tr>
<tr class="even">
<td style="text-align: left;">2008</td>
<td style="text-align: right;">29.7</td>
<td style="text-align: right;">23.3</td>
<td style="text-align: right;">108.2</td>
<td style="text-align: right;">106.2</td>
<td style="text-align: right;">126.0</td>
<td style="text-align: right;">123.7</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2009</td>
<td style="text-align: right;">23.9</td>
<td style="text-align: right;">19.2</td>
<td style="text-align: right;">86.9</td>
<td style="text-align: right;">87.6</td>
<td style="text-align: right;">101.2</td>
<td style="text-align: right;">102.1</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><strong>T5.2 : Monthly Electricity Tariffs (Low Tension Tariffs)</strong></p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped">
<thead>
<tr class="header">
<th style="text-align: left;">month</th>
<th style="text-align: right;">tariff_cent_per_kwh</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">2005-01</td>
<td style="text-align: right;">16.7</td>
</tr>
<tr class="even">
<td style="text-align: left;">2005-02</td>
<td style="text-align: right;">16.7</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2005-03</td>
<td style="text-align: right;">16.7</td>
</tr>
<tr class="even">
<td style="text-align: left;">2005-04</td>
<td style="text-align: right;">16.1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2005-05</td>
<td style="text-align: right;">16.1</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><strong>T5.3 : Annual Electricity Tariffs by Components (Low Tension Tariffs)</strong></p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 3%">
<col style="width: 18%">
<col style="width: 18%">
<col style="width: 27%">
<col style="width: 30%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">year</th>
<th style="text-align: right;">energy_costs_cent_per_kwh</th>
<th style="text-align: right;">grid_charges_cent_per_kwh</th>
<th style="text-align: right;">mkt_support_service_fees_cent_per_kwh</th>
<th style="text-align: right;">power_sys_ops_mkt_admin_fees_cent_per_kwh</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">2005</td>
<td style="text-align: right;">11.8</td>
<td style="text-align: right;">5.5</td>
<td style="text-align: right;">0.3</td>
<td style="text-align: right;">0.1</td>
</tr>
<tr class="even">
<td style="text-align: left;">2006</td>
<td style="text-align: right;">15.3</td>
<td style="text-align: right;">5.4</td>
<td style="text-align: right;">0.3</td>
<td style="text-align: right;">0.1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2007</td>
<td style="text-align: right;">14.5</td>
<td style="text-align: right;">5.4</td>
<td style="text-align: right;">0.3</td>
<td style="text-align: right;">0.1</td>
</tr>
<tr class="even">
<td style="text-align: left;">2008</td>
<td style="text-align: right;">19.9</td>
<td style="text-align: right;">5.2</td>
<td style="text-align: right;">0.3</td>
<td style="text-align: right;">0.1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2009</td>
<td style="text-align: right;">15.3</td>
<td style="text-align: right;">4.9</td>
<td style="text-align: right;">0.3</td>
<td style="text-align: right;">0.1</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><strong>T5.4 : Average Monthly Uniform Singapore Energy Prices (USEP)</strong></p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped">
<thead>
<tr class="header">
<th style="text-align: left;">month</th>
<th style="text-align: right;">avg_mthly_usep_sgd_per_mwh</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">2005-01</td>
<td style="text-align: right;">78.6</td>
</tr>
<tr class="even">
<td style="text-align: left;">2005-02</td>
<td style="text-align: right;">83.6</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2005-03</td>
<td style="text-align: right;">97.7</td>
</tr>
<tr class="even">
<td style="text-align: left;">2005-04</td>
<td style="text-align: right;">99.8</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2005-05</td>
<td style="text-align: right;">113.5</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><strong>T5.5 : Monthly Town Gas Tariffs</strong></p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped">
<thead>
<tr class="header">
<th style="text-align: left;">month</th>
<th style="text-align: right;">general_tariff</th>
<th style="text-align: right;">bulk_tariff_a</th>
<th style="text-align: right;">bulk_tariff_b</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">2007-01</td>
<td style="text-align: right;">16.8</td>
<td style="text-align: right;">15.8</td>
<td style="text-align: right;">15.3</td>
</tr>
<tr class="even">
<td style="text-align: left;">2007-02</td>
<td style="text-align: right;">16.8</td>
<td style="text-align: right;">15.8</td>
<td style="text-align: right;">15.3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2007-03</td>
<td style="text-align: right;">16.8</td>
<td style="text-align: right;">15.8</td>
<td style="text-align: right;">15.3</td>
</tr>
<tr class="even">
<td style="text-align: left;">2007-04</td>
<td style="text-align: right;">16.8</td>
<td style="text-align: right;">15.8</td>
<td style="text-align: right;">15.3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2007-05</td>
<td style="text-align: right;">16.8</td>
<td style="text-align: right;">15.8</td>
<td style="text-align: right;">15.3</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><strong>Code for load data</strong></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Read compressed data file</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>T2<span class="fl">.3</span> <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="at">file =</span> <span class="st">"RDS/T2-3.rds"</span>) <span class="co"># Peak System Demand</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>T2<span class="fl">.6</span> <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="at">file =</span> <span class="st">"RDS/T2-6.rds"</span>) <span class="co"># Market Share of Electricity Generation</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>T3<span class="fl">.4</span> <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="at">file =</span> <span class="st">"RDS/T3-4.rds"</span>) <span class="co"># Total Household Electricity Consumption by Dwelling Type</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>T3<span class="fl">.5</span> <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="at">file =</span> <span class="st">"RDS/T3-5.rds"</span>) <span class="co"># Average Monthly Household Electricity Consumption by Planning Area &amp; Dwelling Type</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>T3<span class="fl">.6</span> <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="at">file =</span> <span class="st">"RDS/T3-6.rds"</span>) <span class="co"># Market Share for Natural Gas Retail</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>T3<span class="fl">.7</span> <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="at">file =</span> <span class="st">"RDS/T3-7.rds"</span>) <span class="co"># Natural Gas Consumption by Sub-Sector</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>T3<span class="fl">.8</span> <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="at">file =</span> <span class="st">"RDS/T3-8.rds"</span>) <span class="co"># Total Household Town Gas Consumption by Dwelling Type</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>T3<span class="fl">.9</span> <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="at">file =</span> <span class="st">"RDS/T3-9.rds"</span>) <span class="co"># Average Monthly Household Town Gas Consumption by Planning Area &amp; Dwelling Type</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>T5<span class="fl">.1</span> <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="at">file =</span> <span class="st">"RDS/T5-1.rds"</span>) <span class="co"># Electricity and Gas Tariffs</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>T5<span class="fl">.2</span> <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="at">file =</span> <span class="st">"RDS/T5-2.rds"</span>) <span class="co"># Monthly Electricity Tariffs (Low Tension Tariffs)</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>T5<span class="fl">.3</span> <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="at">file =</span> <span class="st">"RDS/T5-3.rds"</span>) <span class="co"># Annual Electricity Tariffs by Components (Low Tension Tariffs)</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>T5<span class="fl">.4</span> <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="at">file =</span> <span class="st">"RDS/T5-4.rds"</span>) <span class="co"># Average Monthly Uniform Singapore Energy Prices (USEP)</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>T5<span class="fl">.5</span> <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="at">file =</span> <span class="st">"RDS/T5-5.rds"</span>) <span class="co"># Monthly Town Gas Tariffs</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="shiny" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="shiny"><span class="header-section-number">3</span> Shiny</h2>
<section id="skeleton" class="level3" data-number="3.1">
<h3 data-number="3.1" class="anchored" data-anchor-id="skeleton"><span class="header-section-number">3.1</span> Skeleton</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># call library used</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shinythemes)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="do">## Set up parameter</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">=</span> <span class="fu">fluidPage</span>(</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">theme =</span> <span class="fu">shinytheme</span>(<span class="st">"slate"</span>),</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">headerPanel</span>(<span class="at">title =</span> <span class="st">"Singapore Energy Consumption"</span>),</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">navlistPanel</span>(</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">widths =</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">9</span>),</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>     </span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tabPanel</span>(<span class="st">"OVERVIEW"</span>,<span class="at">tabName =</span> <span class="st">"overview"</span>,<span class="at">icon =</span> <span class="fu">icon</span>(<span class="st">"chalkboard-user"</span>),</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>             <span class="fu">navbarPage</span>(<span class="st">"OVERVIEW"</span>, </span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">tabPanel</span>(<span class="st">"Introduction"</span>),</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">tabPanel</span>(<span class="st">"Boxplot"</span>),</span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">tabPanel</span>(<span class="st">"Geofacet"</span>),</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">tabPanel</span>(<span class="st">"Lineplot"</span>),</span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">tabPanel</span>(<span class="st">"Barchart"</span>)</span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>             )</span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>    <span class="co"># ========================== CLUSTERING ========================== #</span></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tabPanel</span>(<span class="st">"CLUSTERING"</span>, <span class="at">tabName =</span> <span class="st">"clustering"</span>, <span class="at">icon =</span> <span class="fu">icon</span>(<span class="st">"circle-nodes"</span>),</span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>             <span class="fu">navbarPage</span>(<span class="st">"CLUSTERING"</span>, </span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">tabPanel</span>(<span class="st">"Hierachical Clustering"</span>),</span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">tabPanel</span>(<span class="st">"DTW"</span>),</span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">tabPanel</span>(<span class="st">"Time Series Clustering"</span>)</span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>             )</span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>    <span class="co"># ========================== INFERENTIAL ========================== #     </span></span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tabPanel</span>(<span class="st">"INFERENTIAL STATISTICS"</span>, <span class="at">tabName =</span> <span class="st">"inferential"</span>, <span class="at">icon =</span> <span class="fu">icon</span>(<span class="st">"magnifying-glass-chart"</span>),</span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a>             <span class="fu">navbarPage</span>(<span class="st">"INFERENTIAL STATISTICS"</span>, </span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">tabPanel</span>(<span class="st">"ANOVA"</span>),</span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">tabPanel</span>(<span class="st">"Correlation Analysis"</span>)</span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a>             )</span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a>    <span class="co"># ========================== TIME SERIES ========================== #     </span></span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tabPanel</span>(<span class="st">"TIME SERIES FORECASTING"</span>, <span class="at">tabName =</span> <span class="st">"time_series"</span>, <span class="at">icon =</span> <span class="fu">icon</span>(<span class="st">"chart-line"</span>),</span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a>             <span class="fu">navbarPage</span>(<span class="st">"TIME SERIES FORECASTING"</span>,</span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">tabPanel</span>(<span class="st">"Trend Prediction"</span>),</span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">tabPanel</span>(<span class="st">"Slope Graph"</span>)</span>
<span id="cb4-50"><a href="#cb4-50" aria-hidden="true" tabindex="-1"></a>             )</span>
<span id="cb4-51"><a href="#cb4-51" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb4-52"><a href="#cb4-52" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb4-53"><a href="#cb4-53" aria-hidden="true" tabindex="-1"></a>    <span class="co"># =============================== DATA =============================== #     </span></span>
<span id="cb4-54"><a href="#cb4-54" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb4-55"><a href="#cb4-55" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tabPanel</span>(<span class="st">"DATA"</span>, <span class="at">tabName =</span> <span class="st">"data"</span>, <span class="at">icon =</span> <span class="fu">icon</span>(<span class="st">"table"</span>),</span>
<span id="cb4-56"><a href="#cb4-56" aria-hidden="true" tabindex="-1"></a>             <span class="fu">navbarPage</span>(<span class="st">"DATA"</span> )),</span>
<span id="cb4-57"><a href="#cb4-57" aria-hidden="true" tabindex="-1"></a>    <span class="co"># =============================== ABOUT =============================== #    </span></span>
<span id="cb4-58"><a href="#cb4-58" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb4-59"><a href="#cb4-59" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tabPanel</span>(<span class="st">"ABOUT"</span>, <span class="at">tabName =</span> <span class="st">"about"</span>, <span class="at">icon =</span> <span class="fu">icon</span>(<span class="st">"info"</span>)),</span>
<span id="cb4-60"><a href="#cb4-60" aria-hidden="true" tabindex="-1"></a>    <span class="co"># ============================== CO.MMON USER INPUT =============================== #    </span></span>
<span id="cb4-61"><a href="#cb4-61" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tabPanel</span>(<span class="fu">wellPanel</span>(</span>
<span id="cb4-62"><a href="#cb4-62" aria-hidden="true" tabindex="-1"></a>      <span class="fu">sliderInput</span>(<span class="st">"slider_time"</span>, <span class="st">"Select date range"</span>,<span class="at">min =</span> <span class="fu">as.Date</span>(<span class="st">"2021-02-24"</span>), </span>
<span id="cb4-63"><a href="#cb4-63" aria-hidden="true" tabindex="-1"></a>                  <span class="at">max =</span> <span class="fu">as.Date</span>(<span class="st">"2021-04-24"</span>), </span>
<span id="cb4-64"><a href="#cb4-64" aria-hidden="true" tabindex="-1"></a>                  <span class="at">value =</span>  <span class="fu">c</span>(<span class="fu">as.Date</span>(<span class="st">"2021-02-24"</span>),<span class="fu">as.Date</span>(<span class="st">"2021-03-03"</span>) )),</span>
<span id="cb4-65"><a href="#cb4-65" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb4-66"><a href="#cb4-66" aria-hidden="true" tabindex="-1"></a>      <span class="fu">dateRangeInput</span>(<span class="st">"daterange"</span>, <span class="st">"Input date range"</span>, </span>
<span id="cb4-67"><a href="#cb4-67" aria-hidden="true" tabindex="-1"></a>                     <span class="at">start =</span> <span class="fu">as.Date</span>(<span class="st">"2021-02-24"</span>),<span class="at">end =</span> <span class="fu">as.Date</span>(<span class="st">"2021-03-03"</span>) )</span>
<span id="cb4-68"><a href="#cb4-68" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb4-69"><a href="#cb4-69" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb4-70"><a href="#cb4-70" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb4-71"><a href="#cb4-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-72"><a href="#cb4-72" aria-hidden="true" tabindex="-1"></a>server <span class="ot">=</span> <span class="cf">function</span>(input, output, session) {</span>
<span id="cb4-73"><a href="#cb4-73" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-74"><a href="#cb4-74" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb4-75"><a href="#cb4-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-76"><a href="#cb4-76" aria-hidden="true" tabindex="-1"></a><span class="fu">shinyApp</span>(ui , server )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p></p><div style="width: 100% ; height: 400px ; text-align: center; box-sizing: border-box; -moz-box-sizing: border-box; -webkit-box-sizing: border-box;" class="muted well">Shiny applications not supported in static R Markdown documents</div><p></p>
</div>
</div>
</section>
<section id="data-tab-data-table-page" class="level3" data-number="3.2">
<h3 data-number="3.2" class="anchored" data-anchor-id="data-tab-data-table-page"><span class="header-section-number">3.2</span> Data tab : data table page</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shinythemes)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="do">## Set up parameter</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>tables <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Peak System Demand"</span> <span class="ot">=</span> <span class="st">"T2.3"</span>,</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Market Share of Electricity Generation"</span> <span class="ot">=</span> <span class="st">"T2.6"</span>,</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Total Household Electricity Consumption by Dwelling Type"</span> <span class="ot">=</span> <span class="st">"T3.4"</span>,</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Average Monthly Household Electricity Consumption by Planning Area &amp; Dwelling Type"</span> <span class="ot">=</span> <span class="st">"T3.5"</span>,</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Market Share for Natural Gas Retail"</span> <span class="ot">=</span> <span class="st">"T3.6"</span>,</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Natural Gas Consumption by Sub-Sector"</span> <span class="ot">=</span> <span class="st">"T3.7"</span>,</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Total Household Town Gas Consumption by Dwelling Type"</span> <span class="ot">=</span> <span class="st">"T3.8"</span>,</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Average Monthly Household Town Gas Consumption by Planning Area &amp; Dwelling Type"</span> <span class="ot">=</span> <span class="st">"T3.9"</span>,</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Electricity and Gas Tariffs"</span> <span class="ot">=</span> <span class="st">"T5.1"</span>,</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Monthly Electricity Tariffs (Low Tension Tariffs)"</span> <span class="ot">=</span> <span class="st">"T5.2"</span>,</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Annual Electricity Tariffs by Components (Low Tension Tariffs)"</span> <span class="ot">=</span> <span class="st">"T5.3"</span>,</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Average Monthly Uniform Singapore Energy Prices (USEP)"</span> <span class="ot">=</span> <span class="st">"T5.4"</span>,</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Monthly Town Gas Tariffs"</span> <span class="ot">=</span> <span class="st">"T5.5"</span>)</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">=</span> <span class="fu">fluidPage</span>(</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">theme =</span> <span class="fu">shinytheme</span>(<span class="st">"slate"</span>),</span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">headerPanel</span>(<span class="at">title =</span> <span class="st">"Singapore Energy Consumption"</span>),</span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">navlistPanel</span>(</span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">widths =</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">9</span>),</span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>    <span class="co"># ========================== OVERVIEW ========================== #      </span></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tabPanel</span>(<span class="st">"OVERVIEW"</span>,<span class="at">tabName =</span> <span class="st">"overview"</span>,<span class="at">icon =</span> <span class="fu">icon</span>(<span class="st">"chalkboard-user"</span>)),</span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>    <span class="co"># ========================== CLUSTERING ========================== #</span></span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tabPanel</span>(<span class="st">"CLUSTERING"</span>, <span class="at">tabName =</span> <span class="st">"clustering"</span>, <span class="at">icon =</span> <span class="fu">icon</span>(<span class="st">"circle-nodes"</span>)),</span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>    <span class="co"># ========================== INFERENTIAL ========================== #     </span></span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tabPanel</span>(<span class="st">"INFERENTIAL STATISTICS"</span>, <span class="at">tabName =</span> <span class="st">"inferential"</span>, <span class="at">icon =</span> <span class="fu">icon</span>(<span class="st">"magnifying-glass-chart"</span>)),</span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a>    <span class="co"># ========================== TIME SERIES ========================== #     </span></span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tabPanel</span>(<span class="st">"TIME SERIES FORECASTING"</span>, <span class="at">tabName =</span> <span class="st">"time_series"</span>, <span class="at">icon =</span> <span class="fu">icon</span>(<span class="st">"chart-line"</span>)),</span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a>    <span class="co"># =============================== DATA =============================== #     </span></span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tabPanel</span>(<span class="st">"DATA"</span>, <span class="at">tabName =</span> <span class="st">"data"</span>, <span class="at">icon =</span> <span class="fu">icon</span>(<span class="st">"table"</span>),</span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true" tabindex="-1"></a>             <span class="fu">navbarPage</span>(<span class="st">"DATA"</span>,</span>
<span id="cb5-45"><a href="#cb5-45" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">tabPanel</span>(<span class="st">"data table"</span>,</span>
<span id="cb5-46"><a href="#cb5-46" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">fluidPage</span>(</span>
<span id="cb5-47"><a href="#cb5-47" aria-hidden="true" tabindex="-1"></a>                                   <span class="fu">fluidRow</span>(</span>
<span id="cb5-48"><a href="#cb5-48" aria-hidden="true" tabindex="-1"></a>                                     <span class="fu">column</span>(<span class="dv">12</span>, <span class="fu">wellPanel</span>(</span>
<span id="cb5-49"><a href="#cb5-49" aria-hidden="true" tabindex="-1"></a>                                       <span class="fu">radioButtons</span>(<span class="st">"SelectTable"</span>,</span>
<span id="cb5-50"><a href="#cb5-50" aria-hidden="true" tabindex="-1"></a>                                                    <span class="at">label =</span> <span class="st">"Select Data"</span>,</span>
<span id="cb5-51"><a href="#cb5-51" aria-hidden="true" tabindex="-1"></a>                                                    <span class="at">choices =</span> tables,</span>
<span id="cb5-52"><a href="#cb5-52" aria-hidden="true" tabindex="-1"></a>                                                    <span class="at">selected =</span> <span class="st">"Electricity"</span>)</span>
<span id="cb5-53"><a href="#cb5-53" aria-hidden="true" tabindex="-1"></a>                                     ) ),</span>
<span id="cb5-54"><a href="#cb5-54" aria-hidden="true" tabindex="-1"></a>                                     <span class="fu">column</span>(<span class="dv">12</span>, <span class="fu">dataTableOutput</span>(<span class="st">"table"</span>))</span>
<span id="cb5-55"><a href="#cb5-55" aria-hidden="true" tabindex="-1"></a>                                   )</span>
<span id="cb5-56"><a href="#cb5-56" aria-hidden="true" tabindex="-1"></a>                                 ))</span>
<span id="cb5-57"><a href="#cb5-57" aria-hidden="true" tabindex="-1"></a>             )</span>
<span id="cb5-58"><a href="#cb5-58" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb5-59"><a href="#cb5-59" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-60"><a href="#cb5-60" aria-hidden="true" tabindex="-1"></a>    <span class="co"># ******************************* </span><span class="re">END</span><span class="co"> DATA ******************************* #    </span></span>
<span id="cb5-61"><a href="#cb5-61" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-62"><a href="#cb5-62" aria-hidden="true" tabindex="-1"></a>    <span class="co"># =============================== ABOUT =============================== #    </span></span>
<span id="cb5-63"><a href="#cb5-63" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-64"><a href="#cb5-64" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tabPanel</span>(<span class="st">"ABOUT"</span>, <span class="at">tabName =</span> <span class="st">"about"</span>, <span class="at">icon =</span> <span class="fu">icon</span>(<span class="st">"info"</span>)),</span>
<span id="cb5-65"><a href="#cb5-65" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-66"><a href="#cb5-66" aria-hidden="true" tabindex="-1"></a>    <span class="co"># ****************************** </span><span class="re">END</span><span class="co"> ABOUT ****************************** #    </span></span>
<span id="cb5-67"><a href="#cb5-67" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tabPanel</span>(<span class="fu">wellPanel</span>(</span>
<span id="cb5-68"><a href="#cb5-68" aria-hidden="true" tabindex="-1"></a>      <span class="fu">sliderInput</span>(<span class="st">"slider_time"</span>, <span class="st">"Select date range"</span>,<span class="at">min =</span> <span class="fu">as.Date</span>(<span class="st">"2021-02-24"</span>), </span>
<span id="cb5-69"><a href="#cb5-69" aria-hidden="true" tabindex="-1"></a>                  <span class="at">max =</span> <span class="fu">as.Date</span>(<span class="st">"2021-04-24"</span>), </span>
<span id="cb5-70"><a href="#cb5-70" aria-hidden="true" tabindex="-1"></a>                  <span class="at">value =</span>  <span class="fu">c</span>(<span class="fu">as.Date</span>(<span class="st">"2021-02-24"</span>),<span class="fu">as.Date</span>(<span class="st">"2021-03-03"</span>) )),</span>
<span id="cb5-71"><a href="#cb5-71" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb5-72"><a href="#cb5-72" aria-hidden="true" tabindex="-1"></a>      <span class="fu">dateRangeInput</span>(<span class="st">"daterange"</span>, <span class="st">"Input date range"</span>, </span>
<span id="cb5-73"><a href="#cb5-73" aria-hidden="true" tabindex="-1"></a>                     <span class="at">start =</span> <span class="fu">as.Date</span>(<span class="st">"2021-02-24"</span>),<span class="at">end =</span> <span class="fu">as.Date</span>(<span class="st">"2021-03-03"</span>) )</span>
<span id="cb5-74"><a href="#cb5-74" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb5-75"><a href="#cb5-75" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb5-76"><a href="#cb5-76" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb5-77"><a href="#cb5-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-78"><a href="#cb5-78" aria-hidden="true" tabindex="-1"></a>server <span class="ot">=</span> <span class="cf">function</span>(input, output, session) {</span>
<span id="cb5-79"><a href="#cb5-79" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-80"><a href="#cb5-80" aria-hidden="true" tabindex="-1"></a>  <span class="fu">observeEvent</span>((input<span class="sc">$</span>SelectTable),{</span>
<span id="cb5-81"><a href="#cb5-81" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span>(input<span class="sc">$</span>SelectTable <span class="sc">==</span> <span class="st">"T2.3"</span>) {tabletext <span class="ot">&lt;-</span> T2<span class="fl">.3</span>}</span>
<span id="cb5-82"><a href="#cb5-82" aria-hidden="true" tabindex="-1"></a>               <span class="cf">if</span>(input<span class="sc">$</span>SelectTable <span class="sc">==</span> <span class="st">"T2.6"</span>)  {tabletext <span class="ot">&lt;-</span> T2<span class="fl">.6</span>}</span>
<span id="cb5-83"><a href="#cb5-83" aria-hidden="true" tabindex="-1"></a>               <span class="cf">if</span>(input<span class="sc">$</span>SelectTable <span class="sc">==</span> <span class="st">"T3.4"</span>)  {tabletext <span class="ot">&lt;-</span> T3<span class="fl">.4</span>}</span>
<span id="cb5-84"><a href="#cb5-84" aria-hidden="true" tabindex="-1"></a>               <span class="cf">if</span>(input<span class="sc">$</span>SelectTable <span class="sc">==</span> <span class="st">"T3.5"</span>)  {tabletext <span class="ot">&lt;-</span> T3<span class="fl">.5</span>}</span>
<span id="cb5-85"><a href="#cb5-85" aria-hidden="true" tabindex="-1"></a>               <span class="cf">if</span>(input<span class="sc">$</span>SelectTable <span class="sc">==</span> <span class="st">"T3.6"</span>)  {tabletext <span class="ot">&lt;-</span> T3<span class="fl">.6</span>}</span>
<span id="cb5-86"><a href="#cb5-86" aria-hidden="true" tabindex="-1"></a>               <span class="cf">if</span>(input<span class="sc">$</span>SelectTable <span class="sc">==</span> <span class="st">"T3.7"</span>)  {tabletext <span class="ot">&lt;-</span> T3<span class="fl">.7</span>}</span>
<span id="cb5-87"><a href="#cb5-87" aria-hidden="true" tabindex="-1"></a>               <span class="cf">if</span>(input<span class="sc">$</span>SelectTable <span class="sc">==</span> <span class="st">"T3.8"</span>)  {tabletext <span class="ot">&lt;-</span> T3<span class="fl">.8</span>}</span>
<span id="cb5-88"><a href="#cb5-88" aria-hidden="true" tabindex="-1"></a>               <span class="cf">if</span>(input<span class="sc">$</span>SelectTable <span class="sc">==</span> <span class="st">"T3.9"</span>)  {tabletext <span class="ot">&lt;-</span> T3<span class="fl">.9</span>}</span>
<span id="cb5-89"><a href="#cb5-89" aria-hidden="true" tabindex="-1"></a>               <span class="cf">if</span>(input<span class="sc">$</span>SelectTable <span class="sc">==</span> <span class="st">"T5.1"</span>)  {tabletext <span class="ot">&lt;-</span> T5<span class="fl">.1</span>}</span>
<span id="cb5-90"><a href="#cb5-90" aria-hidden="true" tabindex="-1"></a>               <span class="cf">if</span>(input<span class="sc">$</span>SelectTable <span class="sc">==</span> <span class="st">"T5.2"</span>)  {tabletext <span class="ot">&lt;-</span> T5<span class="fl">.2</span>}</span>
<span id="cb5-91"><a href="#cb5-91" aria-hidden="true" tabindex="-1"></a>               <span class="cf">if</span>(input<span class="sc">$</span>SelectTable <span class="sc">==</span> <span class="st">"T5.3"</span>)  {tabletext <span class="ot">&lt;-</span> T5<span class="fl">.3</span>}</span>
<span id="cb5-92"><a href="#cb5-92" aria-hidden="true" tabindex="-1"></a>               <span class="cf">if</span>(input<span class="sc">$</span>SelectTable <span class="sc">==</span> <span class="st">"T5.4"</span>)  {tabletext <span class="ot">&lt;-</span> T5<span class="fl">.4</span>}</span>
<span id="cb5-93"><a href="#cb5-93" aria-hidden="true" tabindex="-1"></a>               <span class="cf">if</span>(input<span class="sc">$</span>SelectTable <span class="sc">==</span> <span class="st">"T5.5"</span>)  {tabletext <span class="ot">&lt;-</span> T5<span class="fl">.5</span>}</span>
<span id="cb5-94"><a href="#cb5-94" aria-hidden="true" tabindex="-1"></a>               output<span class="sc">$</span>table <span class="ot">&lt;-</span> <span class="fu">renderDataTable</span>(tabletext)</span>
<span id="cb5-95"><a href="#cb5-95" aria-hidden="true" tabindex="-1"></a>               }</span>
<span id="cb5-96"><a href="#cb5-96" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb5-97"><a href="#cb5-97" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb5-98"><a href="#cb5-98" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-99"><a href="#cb5-99" aria-hidden="true" tabindex="-1"></a><span class="fu">shinyApp</span>(<span class="at">ui =</span> ui, <span class="at">server =</span> server)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p></p><div style="width: 100% ; height: 400px ; text-align: center; box-sizing: border-box; -moz-box-sizing: border-box; -webkit-box-sizing: border-box;" class="muted well">Shiny applications not supported in static R Markdown documents</div><p></p>
</div>
</div>
</section>
<section id="overview-tab-geofacet" class="level3" data-number="3.3">
<h3 data-number="3.3" class="anchored" data-anchor-id="overview-tab-geofacet"><span class="header-section-number">3.3</span> Overview tab : geofacet</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shinythemes)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(geofacet)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Import data </span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>geofacet <span class="ot">&lt;-</span> T3<span class="fl">.5</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>geofacet<span class="sc">$</span>kwh_per_acc <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(geofacet<span class="sc">$</span>kwh_per_acc)</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Import the area grid data.</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>area_grid <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/areagrid.csv"</span>)</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>geofacet <span class="ot">&lt;-</span> geofacet <span class="sc">%&gt;%</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year, dwelling_type, Description) <span class="sc">%&gt;%</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">avgprice =</span> <span class="fu">mean</span>(kwh_per_acc, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>            <span class="at">medprice =</span> <span class="fu">median</span>(kwh_per_acc, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))<span class="sc">%&gt;%</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a><span class="co"># merge table with town name</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>geofacet_gas_consump <span class="ot">&lt;-</span> <span class="fu">inner_join</span>(geofacet, area_grid,</span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>                      <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"Description"</span> <span class="ot">=</span> <span class="st">"name"</span>))</span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>common_grid <span class="ot">&lt;-</span> area_grid[area_grid<span class="sc">$</span>name <span class="sc">%in%</span> <span class="fu">unique</span>(geofacet<span class="sc">$</span>Description),]</span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(geofacet_gas_consump, <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> avgprice)) <span class="sc">+</span></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">color =</span> <span class="fu">as.factor</span>(dwelling_type))) <span class="sc">+</span></span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>  <span class="co"># scale_x_date(date_labels = "%b") +</span></span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_geo</span>(<span class="sc">~</span>Description, <span class="at">grid =</span> common_grid) <span class="sc">+</span></span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>  <span class="co"># labs(title = "Singapore Resale flat price trends") +</span></span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>  <span class="co"># scale_y_continuous(breaks = c(250000, 500000, 750000, 1000000, 1250000)) +</span></span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">22</span>),</span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>, <span class="at">angle =</span> <span class="dv">45</span>),</span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>),</span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a>        <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>),</span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">"top"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="sandbox_files/figure-html/geofacet-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># # call library used</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="co"># library(shiny)</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co"># library(shinythemes)</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co"># library(geofacet)</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="co"># # Import data </span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="co"># geofacet &lt;- T3.5</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="co"># geofacet$kwh_per_acc &lt;- as.numeric(geofacet$kwh_per_acc)</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="co"># # Import the area grid data.</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="co"># area_grid &lt;- read_csv("data/areagrid.csv")</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a><span class="co"># geofacet &lt;- geofacet %&gt;%</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a><span class="co">#   group_by(year, dwelling_type) %&gt;%</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a><span class="co">#   summarise(avgprice = mean(kwh_per_acc, na.rm = TRUE),</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a><span class="co">#             medprice = median(kwh_per_acc, na.rm = TRUE))%&gt;%</span></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a><span class="co">#   ungroup()</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a><span class="co"># merge table with town name</span></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a><span class="co">#geofacet_gas_consump &lt;- inner_join(geofacet, area_grid,</span></span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a><span class="co">#                      by = c("Description" = "name"))</span></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a><span class="co">#common_grid &lt;- area_grid[area_grid$name %in% unique(geofacet$Description),]</span></span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a><span class="co">#ggplot(geofacet_gas_consump, aes(x = year, y = avgprice)) +</span></span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a><span class="co">#  geom_line(aes(color = as.factor(dwelling_type))) +</span></span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a><span class="co">#  scale_x_date(date_labels = "%b") +</span></span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a><span class="co">#  facet_geo(~ Description, grid = common_grid) +</span></span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a><span class="co">#  labs(title = "Singapore Resale flat price trends") +</span></span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a><span class="co">#  scale_y_continuous(breaks = c(250000, 500000, 750000, 1000000, 1250000)) +</span></span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a><span class="co">#  theme(plot.title = element_text(size=22),</span></span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a><span class="co">#        axis.text.x = element_text(size = 10, angle = 45),</span></span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a><span class="co">#        axis.text.y = element_text(size = 10),</span></span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a><span class="co">#        strip.text = element_text(size = 10),</span></span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a><span class="co">#        legend.position = "top")</span></span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a><span class="co">#ui = fluidPage(</span></span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a><span class="co">#  theme = shinytheme("slate"),</span></span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true" tabindex="-1"></a><span class="co">#  headerPanel(title = "Singapore Energy Consumption"),</span></span>
<span id="cb7-38"><a href="#cb7-38" aria-hidden="true" tabindex="-1"></a><span class="co">#   </span></span>
<span id="cb7-39"><a href="#cb7-39" aria-hidden="true" tabindex="-1"></a><span class="co">#   navlistPanel(</span></span>
<span id="cb7-40"><a href="#cb7-40" aria-hidden="true" tabindex="-1"></a><span class="co">#     widths = c(3, 9),</span></span>
<span id="cb7-41"><a href="#cb7-41" aria-hidden="true" tabindex="-1"></a><span class="co">#      </span></span>
<span id="cb7-42"><a href="#cb7-42" aria-hidden="true" tabindex="-1"></a><span class="co">#     tabPanel("OVERVIEW",tabName = "overview",icon = icon("chalkboard-user"),</span></span>
<span id="cb7-43"><a href="#cb7-43" aria-hidden="true" tabindex="-1"></a><span class="co">#              navbarPage("OVERVIEW", </span></span>
<span id="cb7-44"><a href="#cb7-44" aria-hidden="true" tabindex="-1"></a><span class="co">#                         tabPanel("Introduction"),</span></span>
<span id="cb7-45"><a href="#cb7-45" aria-hidden="true" tabindex="-1"></a><span class="co">#                         tabPanel("Boxplot"),</span></span>
<span id="cb7-46"><a href="#cb7-46" aria-hidden="true" tabindex="-1"></a><span class="co">#                         tabPanel("Geofacet"),</span></span>
<span id="cb7-47"><a href="#cb7-47" aria-hidden="true" tabindex="-1"></a><span class="co">#                         tabPanel("Lineplot"),</span></span>
<span id="cb7-48"><a href="#cb7-48" aria-hidden="true" tabindex="-1"></a><span class="co">#                         tabPanel("Barchart")</span></span>
<span id="cb7-49"><a href="#cb7-49" aria-hidden="true" tabindex="-1"></a><span class="co">#              )</span></span>
<span id="cb7-50"><a href="#cb7-50" aria-hidden="true" tabindex="-1"></a><span class="co">#     ),</span></span>
<span id="cb7-51"><a href="#cb7-51" aria-hidden="true" tabindex="-1"></a><span class="co">#       </span></span>
<span id="cb7-52"><a href="#cb7-52" aria-hidden="true" tabindex="-1"></a><span class="co">#     # ========================== CLUSTERING ========================== #</span></span>
<span id="cb7-53"><a href="#cb7-53" aria-hidden="true" tabindex="-1"></a><span class="co">#     </span></span>
<span id="cb7-54"><a href="#cb7-54" aria-hidden="true" tabindex="-1"></a><span class="co">#     tabPanel("CLUSTERING", tabName = "clustering", icon = icon("circle-nodes"),</span></span>
<span id="cb7-55"><a href="#cb7-55" aria-hidden="true" tabindex="-1"></a><span class="co">#              navbarPage("CLUSTERING", </span></span>
<span id="cb7-56"><a href="#cb7-56" aria-hidden="true" tabindex="-1"></a><span class="co">#                         tabPanel("Hierachical Clustering"),</span></span>
<span id="cb7-57"><a href="#cb7-57" aria-hidden="true" tabindex="-1"></a><span class="co">#                         tabPanel("DTW"),</span></span>
<span id="cb7-58"><a href="#cb7-58" aria-hidden="true" tabindex="-1"></a><span class="co">#                         tabPanel("Time Series Clustering")</span></span>
<span id="cb7-59"><a href="#cb7-59" aria-hidden="true" tabindex="-1"></a><span class="co">#              )</span></span>
<span id="cb7-60"><a href="#cb7-60" aria-hidden="true" tabindex="-1"></a><span class="co">#     ),</span></span>
<span id="cb7-61"><a href="#cb7-61" aria-hidden="true" tabindex="-1"></a><span class="co">#     # ========================== INFERENTIAL ========================== #     </span></span>
<span id="cb7-62"><a href="#cb7-62" aria-hidden="true" tabindex="-1"></a><span class="co">#     </span></span>
<span id="cb7-63"><a href="#cb7-63" aria-hidden="true" tabindex="-1"></a><span class="co">#     tabPanel("INFERENTIAL STATISTICS", tabName = "inferential", icon = icon("magnifying-glass-chart"),</span></span>
<span id="cb7-64"><a href="#cb7-64" aria-hidden="true" tabindex="-1"></a><span class="co">#              navbarPage("INFERENTIAL STATISTICS", </span></span>
<span id="cb7-65"><a href="#cb7-65" aria-hidden="true" tabindex="-1"></a><span class="co">#                         tabPanel("ANOVA"),</span></span>
<span id="cb7-66"><a href="#cb7-66" aria-hidden="true" tabindex="-1"></a><span class="co">#                         tabPanel("Correlation Analysis")</span></span>
<span id="cb7-67"><a href="#cb7-67" aria-hidden="true" tabindex="-1"></a><span class="co">#              )</span></span>
<span id="cb7-68"><a href="#cb7-68" aria-hidden="true" tabindex="-1"></a><span class="co">#     ),</span></span>
<span id="cb7-69"><a href="#cb7-69" aria-hidden="true" tabindex="-1"></a><span class="co">#     # ========================== TIME SERIES ========================== #     </span></span>
<span id="cb7-70"><a href="#cb7-70" aria-hidden="true" tabindex="-1"></a><span class="co">#     </span></span>
<span id="cb7-71"><a href="#cb7-71" aria-hidden="true" tabindex="-1"></a><span class="co">#     tabPanel("TIME SERIES FORECASTING", tabName = "time_series", icon = icon("chart-line"),</span></span>
<span id="cb7-72"><a href="#cb7-72" aria-hidden="true" tabindex="-1"></a><span class="co">#              navbarPage("TIME SERIES FORECASTING",</span></span>
<span id="cb7-73"><a href="#cb7-73" aria-hidden="true" tabindex="-1"></a><span class="co">#                         tabPanel("Trend Prediction"),</span></span>
<span id="cb7-74"><a href="#cb7-74" aria-hidden="true" tabindex="-1"></a><span class="co">#                         tabPanel("Slope Graph")</span></span>
<span id="cb7-75"><a href="#cb7-75" aria-hidden="true" tabindex="-1"></a><span class="co">#              )</span></span>
<span id="cb7-76"><a href="#cb7-76" aria-hidden="true" tabindex="-1"></a><span class="co">#     ),</span></span>
<span id="cb7-77"><a href="#cb7-77" aria-hidden="true" tabindex="-1"></a><span class="co">#     </span></span>
<span id="cb7-78"><a href="#cb7-78" aria-hidden="true" tabindex="-1"></a><span class="co">#     # =============================== DATA =============================== #     </span></span>
<span id="cb7-79"><a href="#cb7-79" aria-hidden="true" tabindex="-1"></a><span class="co">#     </span></span>
<span id="cb7-80"><a href="#cb7-80" aria-hidden="true" tabindex="-1"></a><span class="co">#     tabPanel("DATA", tabName = "data", icon = icon("table"),</span></span>
<span id="cb7-81"><a href="#cb7-81" aria-hidden="true" tabindex="-1"></a><span class="co">#              navbarPage("DATA" )),</span></span>
<span id="cb7-82"><a href="#cb7-82" aria-hidden="true" tabindex="-1"></a><span class="co">#     # =============================== ABOUT =============================== #    </span></span>
<span id="cb7-83"><a href="#cb7-83" aria-hidden="true" tabindex="-1"></a><span class="co">#     </span></span>
<span id="cb7-84"><a href="#cb7-84" aria-hidden="true" tabindex="-1"></a><span class="co">#     tabPanel("ABOUT", tabName = "about", icon = icon("info")),</span></span>
<span id="cb7-85"><a href="#cb7-85" aria-hidden="true" tabindex="-1"></a><span class="co">#     # ============================== CO.MMON USER INPUT =============================== #    </span></span>
<span id="cb7-86"><a href="#cb7-86" aria-hidden="true" tabindex="-1"></a><span class="co">#     tabPanel(wellPanel(</span></span>
<span id="cb7-87"><a href="#cb7-87" aria-hidden="true" tabindex="-1"></a><span class="co">#       sliderInput("slider_time", "Select date range",min = as.Date("2021-02-24"), </span></span>
<span id="cb7-88"><a href="#cb7-88" aria-hidden="true" tabindex="-1"></a><span class="co">#                   max = as.Date("2021-04-24"), </span></span>
<span id="cb7-89"><a href="#cb7-89" aria-hidden="true" tabindex="-1"></a><span class="co">#                   value =  c(as.Date("2021-02-24"),as.Date("2021-03-03") )),</span></span>
<span id="cb7-90"><a href="#cb7-90" aria-hidden="true" tabindex="-1"></a><span class="co">#       </span></span>
<span id="cb7-91"><a href="#cb7-91" aria-hidden="true" tabindex="-1"></a><span class="co">#       dateRangeInput("daterange", "Input date range", </span></span>
<span id="cb7-92"><a href="#cb7-92" aria-hidden="true" tabindex="-1"></a><span class="co">#                      start = as.Date("2021-02-24"),end = as.Date("2021-03-03") )</span></span>
<span id="cb7-93"><a href="#cb7-93" aria-hidden="true" tabindex="-1"></a><span class="co">#     ))</span></span>
<span id="cb7-94"><a href="#cb7-94" aria-hidden="true" tabindex="-1"></a><span class="co">#   )</span></span>
<span id="cb7-95"><a href="#cb7-95" aria-hidden="true" tabindex="-1"></a><span class="co"># )</span></span>
<span id="cb7-96"><a href="#cb7-96" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb7-97"><a href="#cb7-97" aria-hidden="true" tabindex="-1"></a><span class="co"># server = function(input, output, session) {</span></span>
<span id="cb7-98"><a href="#cb7-98" aria-hidden="true" tabindex="-1"></a><span class="co">#   </span></span>
<span id="cb7-99"><a href="#cb7-99" aria-hidden="true" tabindex="-1"></a><span class="co"># }</span></span>
<span id="cb7-100"><a href="#cb7-100" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb7-101"><a href="#cb7-101" aria-hidden="true" tabindex="-1"></a><span class="co"># shinyApp(ui , server )</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>consumption <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/T3-5.csv"</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>consumption <span class="ot">&lt;-</span> consumption <span class="sc">%&gt;%</span> </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">kwh_per_acc =</span> <span class="fu">as.numeric</span>(kwh_per_acc)) <span class="sc">%&gt;%</span> </span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">as.character</span>(year))</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>energycost <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/T5-3.csv"</span>)</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>energycost <span class="ot">&lt;-</span> energycost <span class="sc">%&gt;%</span> </span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">as.character</span>(year))</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="co">#merge</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> consumption <span class="sc">%&gt;%</span> </span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">"year"</span>, <span class="st">"kwh_per_acc"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year) <span class="sc">%&gt;%</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">na.omit</span>() <span class="sc">%&gt;%</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">kwh_per_acc=</span><span class="fu">mean</span>(kwh_per_acc))</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a><span class="co">#b &lt;- b %&gt;% </span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a><span class="co">#  data.frame(energycost,a) %&gt;% </span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a><span class="co">#  select("year", "kwh_per_acc", "energy_costs_cent_per_kwh")</span></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>consumption <span class="sc">%&gt;%</span> </span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year) <span class="sc">%&gt;%</span></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>  <span class="co"># filter(year == "2022") %&gt;% </span></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> kwh_per_acc)) <span class="sc">+</span></span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Make grouped boxplot</span></span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">fill =</span> <span class="fu">as.factor</span>(Region)), <span class="at">color =</span> <span class="st">"grey"</span>) <span class="sc">+</span></span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"top"</span>) <span class="sc">+</span></span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_d</span>(<span class="at">option =</span> <span class="st">"C"</span>) <span class="sc">+</span></span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Average consumption per year by Region"</span>, <span class="at">y=</span><span class="st">"kwh per acc"</span>, <span class="at">fill =</span> <span class="st">"Region"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="sandbox_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1234</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggbetweenstats</span>(</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> consumption,</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> Region,</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> kwh_per_acc,</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># type = "np",</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">messages =</span> <span class="cn">FALSE</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="sandbox_files/figure-html/ANOVA-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>consumption <span class="sc">%&gt;%</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">class =</span> <span class="fu">fct_reorder</span>(Description, kwh_per_acc, <span class="at">.fun=</span><span class="st">'mean'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span><span class="fu">reorder</span>(Description, kwh_per_acc), <span class="at">y=</span>kwh_per_acc)) <span class="sc">+</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">fun.y=</span>mean, <span class="at">geom=</span><span class="st">"point"</span>, <span class="at">color=</span><span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>, <span class="at">hjust=</span><span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Boxplot of consumption per planning area"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="sandbox_files/figure-html/box plot-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>consumption <span class="ot">&lt;-</span> T3<span class="fl">.5</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>consumption <span class="ot">&lt;-</span> consumption <span class="sc">%&gt;%</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">kwh_per_acc =</span> <span class="fu">as.numeric</span>(kwh_per_acc)) <span class="sc">%&gt;%</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">as.character</span>(year)) <span class="sc">%&gt;%</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">'date'</span> <span class="ot">=</span> <span class="fu">make_date</span>(<span class="at">year=</span>year, <span class="at">month=</span>month))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in mask$eval_all_mutate(quo): NAs introduced by coercion</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in make_date(year = year, month = month): NAs introduced by coercion</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>consumption <span class="sc">%&gt;%</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(date) <span class="sc">%&gt;%</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">avg =</span> <span class="fu">mean</span>(kwh_per_acc, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_ly</span>(</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">type=</span><span class="st">"scatter"</span>,</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">x=</span><span class="sc">~</span>date,</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">y=</span><span class="sc">~</span>avg,</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">mode=</span><span class="st">"lines"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-e5bf8db1ee46cf813d19" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-e5bf8db1ee46cf813d19">{"x":{"visdat":{"656c426bf66":["function () ","plotlyVisDat"]},"cur_data":"656c426bf66","attrs":{"656c426bf66":{"x":{},"y":{},"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"date"},"yaxis":{"domain":[0,1],"automargin":true,"title":"avg"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["2005-01-01","2005-02-01","2005-03-01","2005-04-01","2005-05-01","2005-06-01","2005-07-01","2005-08-01","2005-09-01","2005-10-01","2005-11-01","2005-12-01","2006-01-01","2006-02-01","2006-03-01","2006-04-01","2006-05-01","2006-06-01","2006-07-01","2006-08-01","2006-09-01","2006-10-01","2006-11-01","2006-12-01","2007-01-01","2007-02-01","2007-03-01","2007-04-01","2007-05-01","2007-06-01","2007-07-01","2007-08-01","2007-09-01","2007-10-01","2007-11-01","2007-12-01","2008-01-01","2008-02-01","2008-03-01","2008-04-01","2008-05-01","2008-06-01","2008-07-01","2008-08-01","2008-09-01","2008-10-01","2008-11-01","2008-12-01","2009-01-01","2009-02-01","2009-03-01","2009-04-01","2009-05-01","2009-06-01","2009-07-01","2009-08-01","2009-09-01","2009-10-01","2009-11-01","2009-12-01","2010-01-01","2010-02-01","2010-03-01","2010-04-01","2010-05-01","2010-06-01","2010-07-01","2010-08-01","2010-09-01","2010-10-01","2010-11-01","2010-12-01","2011-01-01","2011-02-01","2011-03-01","2011-04-01","2011-05-01","2011-06-01","2011-07-01","2011-08-01","2011-09-01","2011-10-01","2011-11-01","2011-12-01","2012-01-01","2012-02-01","2012-03-01","2012-04-01","2012-05-01","2012-06-01","2012-07-01","2012-08-01","2012-09-01","2012-10-01","2012-11-01","2012-12-01","2013-01-01","2013-02-01","2013-03-01","2013-04-01","2013-05-01","2013-06-01","2013-07-01","2013-08-01","2013-09-01","2013-10-01","2013-11-01","2013-12-01","2014-01-01","2014-02-01","2014-03-01","2014-04-01","2014-05-01","2014-06-01","2014-07-01","2014-08-01","2014-09-01","2014-10-01","2014-11-01","2014-12-01","2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2019-01-01","2019-02-01","2019-03-01","2019-04-01","2019-05-01","2019-06-01","2019-07-01","2019-08-01","2019-09-01","2019-10-01","2019-11-01","2019-12-01","2020-01-01","2020-02-01","2020-03-01","2020-04-01","2020-05-01","2020-06-01","2020-07-01","2020-08-01","2020-09-01","2020-10-01","2020-11-01","2020-12-01","2021-01-01","2021-02-01","2021-03-01","2021-04-01","2021-05-01","2021-06-01","2021-07-01","2021-08-01","2021-09-01","2021-10-01","2021-11-01","2021-12-01","2022-01-01","2022-02-01","2022-03-01","2022-04-01","2022-05-01","2022-06-01"],"y":[594.63,591.238,635.4556,710.1496,704.8936,726.6268,692.0228,675.0272,667.42,680.648,677.225702811245,625.643951612903,616.8336,594.896,641.314229249012,703.65256916996,709.409090909091,695.893280632411,675.738339920949,690.9948,689.890118577075,682.987351778656,687.627165354331,637.363779527559,610.092913385827,577.109842519685,583.461417322835,655.199212598425,705.09842519685,720.517716535433,722.703543307087,707.070866141732,657.461176470588,663.233725490196,703.385098039216,640.18031496063,609.421568627451,611.581176470588,589.157086614173,627.896862745098,696.015294117647,746.356078431373,670.563529411765,653.133463035019,657.187937743191,671.665882352941,691.250980392157,617.996078431373,612.160784313725,585.368235294118,588.82431372549,644.245098039216,686.873622047244,737.76862745098,721.418039215686,689.93031496063,679.030859375,678.926171875,693.7109375,638.931640625,606.30546875,625.0515625,682.429182879377,716.983657587549,699.551361867704,730.52607003891,685.333070866142,634.448046875,646.822745098039,686.214453125,722.644804647451,769.929396073725,617.915294117647,567.452734375,570.714509803922,650.659765625,687.81906614786,724.931906614786,690.849609375,690.78671875,691.197265625,675.506225680934,652.78828125,609.28093385214,607.250390625,610.443579766537,606.389494163424,642.789883268483,660.25078125,713.937109375,691.935546875,680.815625,666.43125,659.267704280156,675.97734375,620.000778210117,601.580784313726,594.030739299611,591.538671875,650.50078125,708.385992217899,720.452529182879,693.253125,692.124902723735,643.846899224806,654.422093023256,646.505078125,600.445525291829,593.006976744186,558.465234375,562.096511627907,638.766926070039,687.205813953488,694.351750972763,686.374708171206,682.8828125,641.07421875,643.81796875,661.758984375,606.98671875,581.676771653543,532.616141732283,559.503937007874,637.98031496063,635.627734375,652.475875486381,667.712598425197,666.115625,661.748818897638,669.443137254902,672.191732283465,637.122568093385,596.243137254902,593.794552529183,618.951953125,660.1276816609,689.148122866894,699.193174061433,639.646020761246,637.173448275862,646.723875432526,676.358661417323,662.324505928854,591.181422924901,572.489273356401,573.200692041523,537.715570934256,579.422491349481,605.031487889273,656.385763888889,657.268858131488,604.870588235294,602.395847750865,602.038408304498,598.380902777778,563.611418685121,493.559002770083,452.45773480663,464.946961325967,525.947237569061,545.404419889503,576.001666666667,532.639889196676,520.754166666667,535.063333333333,539.958611111111,519.454722222222,470.502222222222,494.216066481994,502.42216066482,489.57783933518,526.736011080332,548.489473684211,528.579329608939,516.47783933518,533.379778393352,563.38891966759,550.276731301939,530.84487534626,484.84404432133,475.424653739612,491.028571428571,513.321428571429,558.341208791209,555.537087912088,706.54435261708,701.858217270195,578.038674033149,556.130494505495,532.862912087912,540.757575757576,530.436639118457,502.574792243767,478.355277777778,490.038888888889,544.71955922865,565.989256198347,620.779338842975,592.95041322314,604.294490358127,567.062258953168,537.633425414365,542.310164835165,544.486187845304,523.387052341598,519.257575757576,504.145555555556,534.575274725275,568.493333333333,578.311845730028],"mode":"lines","type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># retailshare &lt;- read_csv("data/T3-1.csv")</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="co"># ggplot(data = retailshare, mapping = aes(y=Market_Share_of_Elec_Retail, fill= #Electricity_Retails)) +</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="co">#   theme_minimal() +</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="co">#  geom_bar(position = "fill") +</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="co">#  scale_fill_viridis_d(option = "C") </span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="co">#    labs(title = "Market Share of Elec Retail", fill = "Electricity Retails", </span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="co">#         x = "Count", y = "")</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a><span class="co">#  ggplot(data = Resale, mapping = aes(y=town, fill=flat_type)) +</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a><span class="co">#    theme_minimal() +</span></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a><span class="co">#    geom_bar(position = "fill") +</span></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a><span class="co">#    scale_fill_viridis_d(option = "C") +</span></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a><span class="co">#    labs(title = "Flat type proportion by town", fill = "Flat type", </span></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a><span class="co">#         x = "Count", y = "")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shinydashboard)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'shinydashboard'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:graphics':

    box</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shinythemes)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shinyWidgets)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'shinyWidgets'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:psych':

    progressBar</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RColorBrewer)</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(geofacet)</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(treemap)</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggstatsplot)</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggridges)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>